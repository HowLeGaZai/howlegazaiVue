(function(e,u){typeof exports=="object"&&typeof module<"u"?module.exports=u(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],u):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=u(e.Vue,e.dateFns))})(this,function(e,u){"use strict";function ze(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function jt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function Ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function $t(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function Bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const Nt=(t,r,a,n)=>{const i=u.parse(t,r.slice(0,t.length),new Date);return u.isValid(i)&&u.isDate(i)?n?i:u.set(i,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},Gt=(t,r,a,n)=>{const i=Array.isArray(a)?a[0]:a;if(typeof r=="string")return Nt(t,r,i,n);if(Array.isArray(r)){let f=null;for(const k of r)if(f=Nt(t,k,i,n),f)break;return f}return typeof r=="function"?r(t):null},b=t=>t?new Date(t):new Date,Zt=(t,r)=>{if(r){const n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),f=t.getHours().toString().padStart(2,"0"),k=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${i}T${f}:${k}:00.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},De=t=>{let r=b(JSON.parse(JSON.stringify(t)));return r=u.setHours(r,0),r=u.setMinutes(r,0),r=u.setSeconds(r,0),r=u.setMilliseconds(r,0),r},we=(t,r,a,n)=>{let i=t?b(t):b();return(r||r===0)&&(i=u.setHours(i,+r)),(a||a===0)&&(i=u.setMinutes(i,+a)),(n||n===0)&&(i=u.setSeconds(i,+n)),u.setMilliseconds(i,0)},fe=(t,r)=>!t||!r?!1:u.isBefore(De(t),De(r)),ae=(t,r)=>!t||!r?!1:u.isEqual(De(t),De(r)),me=(t,r)=>!t||!r?!1:u.isAfter(De(t),De(r)),Tt=(t,r,a)=>t&&t[0]&&t[1]?me(a,t[0])&&fe(a,t[1]):t&&t[0]&&r?me(a,t[0])&&fe(a,r)||fe(a,t[0])&&me(a,r):!1,ve=t=>{const r=u.set(new Date(t),{date:1});return De(r)},Oe=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Pt=()=>{const t=n=>{Oe.menuFocused=n},r=n=>{Oe.shiftKeyInMenu!==n&&(Oe.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:Oe.shiftKeyInMenu,menuFocused:Oe.menuFocused})),setMenuFocused:t,setShiftKey:r}};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xe={},qt={get exports(){return xe},set exports(t){xe=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=r.default})(qt,xe);const Xt=Qe(xe);var Ke={},Jt={get exports(){return Ke},set exports(t){Ke=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}t.exports=r.default})(Jt,Ke);const At=Qe(Ke);function Qt(t,r){var a=nn(r);return a.formatToParts?en(a,t):tn(a,t)}var Ft={year:0,month:1,day:2,hour:3,minute:4,second:5};function en(t,r){try{for(var a=t.formatToParts(r),n=[],i=0;i<a.length;i++){var f=Ft[a[i].type];f>=0&&(n[f]=parseInt(a[i].value,10))}return n}catch(k){if(k instanceof RangeError)return[NaN];throw k}}function tn(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Fe={};function nn(t){if(!Fe[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Fe[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Fe[t]}function et(t,r,a,n,i,f,k){var N=new Date(0);return N.setUTCFullYear(t,r,a),N.setUTCHours(n,i,f,k),N}var Vt=36e5,rn=6e4,tt={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function nt(t,r,a){var n,i;if(!t||(n=tt.timezoneZ.exec(t),n))return 0;var f;if(n=tt.timezoneHH.exec(t),n)return f=parseInt(n[1],10),Et(f)?-(f*Vt):NaN;if(n=tt.timezoneHHMM.exec(t),n){f=parseInt(n[1],10);var k=parseInt(n[2],10);return Et(f,k)?(i=Math.abs(f)*Vt+k*rn,f>0?-i:i):NaN}if(on(t)){r=new Date(r||Date.now());var N=a?r:an(r),R=rt(N,t),M=a?R:ln(r,R,t);return-M}return NaN}function an(t){return et(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function rt(t,r){var a=Qt(t,r),n=et(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),i=t.getTime(),f=i%1e3;return i-=f>=0?f:1e3+f,n-i}function ln(t,r,a){var n=t.getTime(),i=n-r,f=rt(new Date(i),a);if(r===f)return r;i-=f-r;var k=rt(new Date(i),a);return f===k?f:Math.max(f,k)}function Et(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var _t={};function on(t){if(_t[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),_t[t]=!0,!0}catch{return!1}}var sn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const Rt=sn;var at=36e5,vt=6e4,cn=2,ye={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Rt};function lt(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?cn:Xt(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=un(t),f=dn(i.date,n),k=f.year,N=f.restDateString,R=fn(N,k);if(isNaN(R))return new Date(NaN);if(R){var M=R.getTime(),Y=0,C;if(i.time&&(Y=mn(i.time),isNaN(Y)))return new Date(NaN);if(i.timeZone||a.timeZone){if(C=nt(i.timeZone||a.timeZone,new Date(M+Y)),isNaN(C))return new Date(NaN)}else C=At(new Date(M+Y)),C=At(new Date(M+Y+C));return new Date(M+Y+C)}else return new Date(NaN)}function un(t){var r={},a=ye.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=ye.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var i=ye.timeZone.exec(n);i?(r.time=n.replace(i[1],""),r.timeZone=i[1].trim()):r.time=n}return r}function dn(t,r){var a=ye.YYY[r],n=ye.YYYYY[r],i;if(i=ye.YYYY.exec(t)||n.exec(t),i){var f=i[1];return{year:parseInt(f,10),restDateString:t.slice(f.length)}}if(i=ye.YY.exec(t)||a.exec(t),i){var k=i[1];return{year:parseInt(k,10)*100,restDateString:t.slice(k.length)}}return{year:null}}function fn(t,r){if(r===null)return null;var a,n,i,f;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=ye.MM.exec(t),a)return n=new Date(0),i=parseInt(a[1],10)-1,It(r,i)?(n.setUTCFullYear(r,i),n):new Date(NaN);if(a=ye.DDD.exec(t),a){n=new Date(0);var k=parseInt(a[1],10);return pn(r,k)?(n.setUTCFullYear(r,0,k),n):new Date(NaN)}if(a=ye.MMDD.exec(t),a){n=new Date(0),i=parseInt(a[1],10)-1;var N=parseInt(a[2],10);return It(r,i,N)?(n.setUTCFullYear(r,i,N),n):new Date(NaN)}if(a=ye.Www.exec(t),a)return f=parseInt(a[1],10)-1,Lt(r,f)?Ot(r,f):new Date(NaN);if(a=ye.WwwD.exec(t),a){f=parseInt(a[1],10)-1;var R=parseInt(a[2],10)-1;return Lt(r,f,R)?Ot(r,f,R):new Date(NaN)}return null}function mn(t){var r,a,n;if(r=ye.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),ot(a)?a%24*at:NaN;if(r=ye.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),ot(a,n)?a%24*at+n*vt:NaN;if(r=ye.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var i=parseFloat(r[3].replace(",","."));return ot(a,n,i)?a%24*at+n*vt+i*1e3:NaN}return null}function Ot(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,f=r*7+a+1-i;return n.setUTCDate(n.getUTCDate()+f),n}var yn=[31,28,31,30,31,30,31,31,30,31,30,31],gn=[31,29,31,30,31,30,31,31,30,31,30,31];function Yt(t){return t%400===0||t%4===0&&t%100!==0}function It(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=Yt(t);if(n&&a>gn[r]||!n&&a>yn[r])return!1}return!0}function pn(t,r){if(r<1)return!1;var a=Yt(t);return!(a&&r>366||!a&&r>365)}function Lt(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function ot(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var Ue={},hn={get exports(){return Ue},set exports(t){Ue=t}},He={},kn={get exports(){return He},set exports(t){He=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,i){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(n[f]=i[f]);return n}t.exports=r.default})(kn,He),function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var a=n(He);function n(f){return f&&f.__esModule?f:{default:f}}function i(f){return(0,a.default)({},f)}t.exports=r.default}(hn,Ue);const wn=Qe(Ue);function Dn(t,r,a){var n=lt(t,a),i=nt(r,n,!0),f=new Date(n.getTime()-i),k=new Date(0);return k.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),k.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),k}function bn(t,r,a){if(typeof t=="string"&&!t.match(Rt)){var n=wn(a);return n.timeZone=r,lt(t,n)}var i=lt(t,a),f=et(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),k=nt(r,new Date(f));return new Date(f+k)}const Mn=(t,r=3)=>{const a=[];for(let n=0;n<t.length;n+=r)a.push([t[n],t[n+1],t[n+2]]);return a},Cn=(t,r)=>{const a=[1,2,3,4,5,6,7].map(f=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${f}T00:00:00+00:00`)).slice(0,2)),n=a.slice(0,r),i=a.slice(r+1,a.length);return[a[r]].concat(...i).concat(...n)},$n=(t,r)=>{const a=[];for(let n=+t[0];n<=+t[1];n++)a.push({value:+n,text:`${n}`});return r?a.reverse():a},Bn=(t,r)=>{const a=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const f=i<10?`0${i}`:i;return new Date(`2017-${f}-01T00:00:00+00:00`)}).map((i,f)=>({text:a.format(i),value:f}))},Sn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ce=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},Nn=t=>Object.assign({type:"dot"},t),zt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,We={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ue=t=>t,xt=t=>t===0?t:!t||isNaN(+t)?null:+t,Kt=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),Tn=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),Pn=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,An=(t,r,a)=>t||(typeof a=="string"?a:r),Vn=t=>typeof t=="boolean"?t?Kt({}):!1:Kt(t),En=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),_n=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),ke=t=>{const r=()=>{if(t.partialRange)return null;throw new Error(We.prop("partial-range"))},a=e.computed(()=>({ariaLabels:Tn(t.ariaLabels),textInputOptions:Object.assign(En(),t.textInputOptions),multiCalendars:Pn(t.multiCalendars),previewFormat:An(t.previewFormat,t.format,f()),filters:_n(t.filters),transitions:Vn(t.transitions),startTime:g()})),n=s=>{if(t.range)return s();throw new Error(We.prop("range"))},i=()=>{const s=t.enableSeconds?":ss":"";return t.is24?`HH:mm${s}`:`hh:mm${s} aa`},f=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?i():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${i()}`:"MM/dd/yyyy",k=(s,l)=>{if(typeof t.format=="function")return t.format(s);const d=l||f(),B=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(s)?`${u.format(s[0],d,B)} ${t.modelAuto&&!s[1]?"":a.value.textInputOptions.rangeSeparator||"-"} ${s[1]?u.format(s[1],d,B):""}`:u.format(s,d,B)},N=s=>t.timezone?Dn(s,t.timezone):s,R=s=>t.timezone?bn(s,t.timezone):s,M=e.computed(()=>s=>{var l;return(l=t.hideNavigation)==null?void 0:l.includes(s)}),Y=s=>{const l=t.maxDate?me(N(s),N(b(t.maxDate))):!1,d=t.minDate?fe(N(s),N(b(t.minDate))):!1,B=V(s,t.disabledDates),A=a.value.filters.months.map(J=>+J).includes(u.getMonth(s)),h=t.disabledWeekDays.length?t.disabledWeekDays.some(J=>+J===u.getDay(s)):!1,w=t.allowedDates.length?!t.allowedDates.some(J=>ae(N(b(J)),N(s))):!1,p=u.getYear(s),K=p<+t.yearRange[0]||p>+t.yearRange[1];return!(l||d||B||A||K||h||w)},C=s=>{const l={hours:u.getHours(b()),minutes:u.getMinutes(b()),seconds:t.enableSeconds?u.getSeconds(b()):0};return Object.assign(l,s)},g=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[C(t.startTime[0]),C(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?C(t.startTime):null,$=s=>!Y(s),Z=s=>Array.isArray(s)?u.isValid(s[0])&&(s[1]?u.isValid(s[1]):!0):s?u.isValid(s):!1,W=s=>s instanceof Date?s:u.parseISO(s),z=s=>{const l=u.startOfWeek(N(s),{weekStartsOn:+t.weekStart}),d=u.endOfWeek(N(s),{weekStartsOn:+t.weekStart});return[l,d]},V=(s,l)=>Array.isArray(l)?l.some(d=>ae(N(b(d)),N(s))):l(s),E=(s,l,d)=>{let B=s?b(s):b();return(l||l===0)&&(B=u.setMonth(B,l)),d&&(B=u.setYear(B,d)),B},v=s=>u.set(b(),{hours:u.getHours(s),minutes:u.getMinutes(s),seconds:u.getSeconds(s)}),G=s=>u.set(b(),{hours:+s.hours||0,minutes:+s.minutes||0,seconds:+s.seconds||0}),U=(s,l,d,B)=>{if(!s)return!0;if(B){const L=d==="max"?u.isBefore(s,l):u.isAfter(s,l),A={seconds:0,milliseconds:0};return L||u.isEqual(u.set(s,A),u.set(l,A))}return d==="max"?s.getTime()<=l.getTime():s.getTime()>=l.getTime()},X=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,te=s=>Array.isArray(s)?[s[0]?v(s[0]):null,s[1]?v(s[1]):null]:v(s),S=s=>{const l=t.maxTime?G(t.maxTime):b(t.maxDate);return Array.isArray(s)?U(s[0],l,"max",!!t.maxDate)&&U(s[1],l,"max",!!t.maxDate):U(s,l,"max",!!t.maxDate)},O=(s,l)=>{const d=t.minTime?G(t.minTime):b(t.minDate);return Array.isArray(s)?U(s[0],d,"min",!!t.minDate)&&U(s[1],d,"min",!!t.minDate)&&l:U(s,d,"min",!!t.minDate)&&l},I=s=>{let l=!0;if(!s||X())return!0;const d=!t.minDate&&!t.maxDate?te(s):s;return(t.maxTime||t.maxDate)&&(l=S(ue(d))),(t.minTime||t.minDate)&&(l=O(ue(d),l)),l},m=(s,l)=>{const d=b(JSON.parse(JSON.stringify(s))),B=[];for(let L=0;L<7;L++){const A=u.addDays(d,L),h=u.getMonth(A)!==l;B.push({text:t.hideOffsetDates&&h?"":A.getDate(),value:A,current:!h,classData:{}})}return B},T=(s,l)=>{const d=[],B=b(N(new Date(l,s))),L=b(N(new Date(l,s+1,0))),A=u.startOfWeek(B,{weekStartsOn:t.weekStart}),h=w=>{const p=m(w,s);if(d.push({days:p}),!d[d.length-1].days.some(K=>ae(De(K.value),De(L)))){const K=u.addDays(w,7);h(K)}};if(h(A),t.sixWeeks&&d.length<6){const w=6-d.length;for(let p=1;p<=w;p++){const K=d[d.length-1],J=K.days[K.days.length-1],pe=m(u.addDays(J.value,1),u.getMonth(B));d.push({days:pe})}}return d},x=(s,l,d)=>[u.set(b(s),{date:1}),u.set(b(),{month:l,year:d,date:1})],ee=(s,l)=>fe(...x(t.minDate,s,l))||ae(...x(t.minDate,s,l)),q=(s,l)=>me(...x(t.maxDate,s,l))||ae(...x(t.maxDate,s,l)),P=(s,l,d)=>{let B=!1;return t.maxDate&&d&&q(s,l)&&(B=!0),t.minDate&&!d&&ee(s,l)&&(B=!0),B};return{checkPartialRangeValue:r,checkRangeEnabled:n,getZonedDate:N,getZonedToUtc:R,formatDate:k,getDefaultPattern:f,validateDate:Y,getDefaultStartTime:g,isDisabled:$,isValidDate:Z,sanitizeDate:W,getWeekFromDate:z,matchDate:V,setDateMonthOrYear:E,isValidTime:I,getCalendarDays:T,validateMonthYearInRange:(s,l,d,B)=>{let L=!1;return B?t.minDate&&t.maxDate?L=P(s,l,d):(t.minDate&&ee(s,l)||t.maxDate&&q(s,l))&&(L=!0):L=!0,L},validateMaxDate:q,validateMinDate:ee,assignDefaultTime:C,defaults:a,hideNavigationButtons:M}},le=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),st=e.ref(null),je=e.ref(!1),it=e.ref(!1),ct=e.ref(!1),ut=e.ref(!1),ge=e.ref(0),de=e.ref(0),$e=()=>{const t=e.computed(()=>je.value?[...le.selectionGrid,le.actionRow].filter(V=>V.length):it.value?[...le.timePicker[0],...le.timePicker[1],ut.value?[]:[st.value],le.actionRow].filter(V=>V.length):ct.value?[...le.monthPicker,le.actionRow]:[le.monthYear,...le.calendar,le.time,le.actionRow].filter(V=>V.length)),r=V=>{ge.value=V?ge.value+1:ge.value-1;let E=null;t.value[de.value]&&(E=t.value[de.value][ge.value]),E||(ge.value=V?ge.value-1:ge.value+1)},a=V=>{if(de.value===0&&!V||de.value===t.value.length&&V)return;de.value=V?de.value+1:de.value-1,t.value[de.value]?t.value[de.value]&&!t.value[de.value][ge.value]&&ge.value!==0&&(ge.value=t.value[de.value].length-1):de.value=V?de.value-1:de.value+1},n=V=>{let E=null;t.value[de.value]&&(E=t.value[de.value][ge.value]),E?E.focus({preventScroll:!je.value}):ge.value=V?ge.value-1:ge.value+1},i=()=>{r(!0),n(!0)},f=()=>{r(!1),n(!1)},k=()=>{a(!1),n(!0)},N=()=>{a(!0),n(!0)},R=(V,E)=>{le[E]=V},M=(V,E)=>{le[E]=V},Y=()=>{ge.value=0,de.value=0};return{buildMatrix:R,buildMultiLevelMatrix:M,setTimePickerBackRef:V=>{st.value=V},setSelectionGrid:V=>{je.value=V,Y(),V||(le.selectionGrid=[])},setTimePicker:(V,E=!1)=>{it.value=V,ut.value=E,Y(),V||(le.timePicker[0]=[],le.timePicker[1]=[])},setTimePickerElements:(V,E=0)=>{le.timePicker[E]=V},arrowRight:i,arrowLeft:f,arrowUp:k,arrowDown:N,clearArrowNav:()=>{le.monthYear=[],le.calendar=[],le.time=[],le.actionRow=[],le.selectionGrid=[],le.timePicker[0]=[],le.timePicker[1]=[],je.value=!1,it.value=!1,ut.value=!1,ct.value=!1,Y(),st.value=null},setMonthPicker:V=>{ct.value=V,Y()},refSets:le}},Ut=t=>Array.isArray(t),Pe=t=>Array.isArray(t),Ht=t=>Array.isArray(t)&&t.length===2,Rn=(t,r,a,n,i)=>{const{getDefaultStartTime:f,isDisabled:k,sanitizeDate:N,getWeekFromDate:R,setDateMonthOrYear:M,validateMonthYearInRange:Y,defaults:C}=ke(t),g=e.computed({get:()=>t.internalModelValue,set:c=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",c)}}),$=e.ref([]);e.watch(g,()=>{X()});const Z=e.toRef(t,"multiCalendars");e.watch(Z,()=>{re(0)});const W=e.ref([{month:u.getMonth(b()),year:u.getYear(b())}]),z=e.reactive({hours:t.range?[u.getHours(b()),u.getHours(b())]:u.getHours(b()),minutes:t.range?[u.getMinutes(b()),u.getMinutes(b())]:u.getMinutes(b()),seconds:t.range?[0,0]:0}),V=e.computed(()=>c=>W.value[c]?W.value[c].month:0),E=e.computed(()=>c=>W.value[c]?W.value[c].year:0),v=e.computed(()=>t.flow&&t.flow.length&&!t.partialFlow?i.value===t.flow.length:!0),G=(c,D,j)=>{var y,_;W.value[c]||(W.value[c]={month:0,year:0}),W.value[c].month=D===null?(y=W.value[c])==null?void 0:y.month:D,W.value[c].year=j===null?(_=W.value[c])==null?void 0:_.year:j},U=(c,D)=>{z[c]=D};e.onMounted(()=>{g.value||(t.startDate&&(G(0,u.getMonth(b(t.startDate)),u.getYear(b(t.startDate))),C.value.multiCalendars&&re(0)),C.value.startTime&&P()),X(!0)});const X=(c=!1)=>{if(g.value)return Array.isArray(g.value)?($.value=g.value,m(c)):S(g.value);if(t.timePicker)return T();if(t.monthPicker&&!t.range)return x();if(t.yearPicker&&!t.range)return ee();if(C.value.multiCalendars&&c&&!t.startDate)return te(b(),c)},te=(c,D=!1)=>{if((!C.value.multiCalendars||!t.multiStatic||D)&&G(0,u.getMonth(c),u.getYear(c)),C.value.multiCalendars)for(let j=1;j<C.value.multiCalendars;j++){const y=u.set(b(),{month:V.value(j-1),year:E.value(j-1)}),_=u.add(y,{months:1});W.value[j]={month:u.getMonth(_),year:u.getYear(_)}}},S=c=>{te(c),U("hours",u.getHours(c)),U("minutes",u.getMinutes(c)),U("seconds",u.getSeconds(c))},O=(c,D)=>{te(c[0],D);const j=(y,_)=>[y(c[0]),c[1]?y(c[1]):z[_][1]];U("hours",j(u.getHours,"hours")),U("minutes",j(u.getMinutes,"minutes")),U("seconds",j(u.getSeconds,"seconds"))},I=(c,D)=>{if((t.range||t.weekPicker)&&!t.multiDates)return O(c,D);if(t.multiDates){const j=c[c.length-1];return S(j)}},m=c=>{const D=g.value;I(D,c),C.value.multiCalendars&&t.multiCalendarsSolo&&s()},T=()=>{if(P(),!t.range)g.value=we(b(),z.hours,z.minutes,q());else{const c=z.hours,D=z.minutes;g.value=[we(b(),c[0],D[0],q()),we(b(),c[1],D[1],q(!1))]}},x=()=>{t.multiDates?g.value=[M(b(),V.value(0),E.value(0))]:g.value=M(b(),V.value(0),E.value(0))},ee=()=>{g.value=b()},q=(c=!0)=>t.enableSeconds?Array.isArray(z.seconds)?c?z.seconds[0]:z.seconds[1]:z.seconds:0,P=()=>{const c=f();if(c){const D=Array.isArray(c),j=D?[+c[0].hours,+c[1].hours]:+c.hours,y=D?[+c[0].minutes,+c[1].minutes]:+c.minutes,_=D?[+c[0].seconds,+c[1].seconds]:+c.seconds;U("hours",j),U("minutes",y),t.enableSeconds&&U("seconds",_)}},o=()=>Array.isArray(g.value)&&g.value.length?g.value[g.value.length-1]:null,s=()=>{if(Array.isArray(g.value)&&g.value.length===2){const c=b(b(g.value[1]?g.value[1]:u.addMonths(g.value[0],1))),[D,j]=[u.getMonth(g.value[0]),u.getYear(g.value[0])],[y,_]=[u.getMonth(g.value[1]),u.getYear(g.value[1])];(D!==y||D===y&&j!==_)&&t.multiCalendarsSolo&&G(1,u.getMonth(c),u.getYear(c))}},l=c=>{const D=u.addMonths(c,1);return{month:u.getMonth(D),year:u.getYear(D)}},d=c=>{const D=u.getMonth(b(c)),j=u.getYear(b(c));if(G(0,D,j),C.value.multiCalendars>0)for(let y=1;y<C.value.multiCalendars;y++){const _=l(u.set(b(c),{year:V.value(y-1),month:E.value(y-1)}));G(y,_.month,_.year)}},B=c=>{if(g.value&&Array.isArray(g.value))if(g.value.some(D=>ae(c,D))){const D=g.value.filter(j=>!ae(j,c));g.value=D.length?D:null}else(t.multiDatesLimit&&+t.multiDatesLimit>g.value.length||!t.multiDatesLimit)&&g.value.push(c);else g.value=[c]},L=(c,D)=>{const j=me(c,D)?D:c,y=me(D,c)?D:c;return u.eachDayOfInterval({start:j,end:y})},A=(c,D=0)=>{if(Array.isArray(g.value)&&g.value[D]){const j=u.differenceInCalendarDays(c,g.value[D]),y=L(g.value[D],c),_=y.length===1?0:y.filter(ie=>k(ie)).length,se=Math.abs(j)-_;if(t.minRange&&t.maxRange)return se>=+t.minRange&&se<=+t.maxRange;if(t.minRange)return se>=+t.minRange;if(t.maxRange)return se<=+t.maxRange}return!0},h=c=>Array.isArray(g.value)&&g.value.length===2?t.fixedStart&&(me(c,g.value[0])||ae(c,g.value[0]))?[g.value[0],c]:t.fixedEnd&&(fe(c,g.value[1])||ae(c,g.value[1]))?[c,g.value[1]]:(r("invalid-fixed-range",c),g.value):[],w=()=>{t.autoApply&&v.value&&r("auto-apply",t.partialFlow)},p=()=>{t.autoApply&&r("select-date")},K=c=>!u.eachDayOfInterval({start:c[0],end:c[1]}).some(j=>k(j)),J=c=>(g.value=R(b(c.value)),w()),pe=c=>{const D=we(b(c.value),z.hours,z.minutes,q());t.multiDates?B(D):g.value=D,a(),w()},Se=()=>{$.value=g.value?g.value.slice():[],$.value.length===2&&!(t.fixedStart||t.fixedEnd)&&($.value=[])},F=(c,D)=>{const j=[b(c.value),u.addDays(b(c.value),+t.autoRange)];K(j)&&(D&&d(c.value),$.value=j)},Ne=c=>{Me(c.value)||!A(c.value,t.fixedStart?0:1)||($.value=h(b(c.value)))},Me=c=>t.noDisabledRange?L($.value[0],c).some(j=>k(j)):!1,he=(c,D)=>{if(Se(),t.autoRange)return F(c,D);if(t.fixedStart||t.fixedEnd)return Ne(c);$.value[0]?A(b(c.value))&&!Me(c.value)&&(fe(b(c.value),b($.value[0]))?$.value.unshift(b(c.value)):$.value[1]=b(c.value)):$.value[0]=b(c.value)},Ve=c=>{$.value[c]=we($.value[c],z.hours[c],z.minutes[c],q(c!==1))},Ie=()=>{$.value.length&&($.value[0]&&!$.value[1]?Ve(0):(Ve(0),Ve(1),a()),g.value=$.value.slice(),$.value[0]&&$.value[1]&&t.autoApply&&r("auto-apply"),$.value[0]&&!$.value[1]&&t.modelAuto&&t.autoApply&&r("auto-apply"))},Q=(c,D=!1)=>{if(!(k(c.value)||!c.current&&t.hideOffsetDates)){if(t.weekPicker)return J(c);if(!t.range)return pe(c);Pe(z.hours)&&Pe(z.minutes)&&!t.multiDates&&(he(c,D),Ie())}},oe=c=>{const D=c[0];return t.weekNumbers==="local"?u.getWeek(D.value,{weekStartsOn:+t.weekStart}):t.weekNumbers==="iso"?u.getISOWeek(D.value):typeof t.weekNumbers=="function"?t.weekNumbers(D.value):""},re=c=>{for(let D=c-1;D>=0;D--){const j=u.subMonths(u.set(b(),{month:V.value(D+1),year:E.value(D+1)}),1);G(D,u.getMonth(j),u.getYear(j))}for(let D=c+1;D<=C.value.multiCalendars-1;D++){const j=u.addMonths(u.set(b(),{month:V.value(D-1),year:E.value(D-1)}),1);G(D,u.getMonth(j),u.getYear(j))}},be=c=>M(b(),V.value(c),E.value(c)),Te=c=>we(c,z.hours,z.minutes,q()),yt=c=>{B(be(c))},gt=(c,D)=>{const j=t.monthPicker?V.value(c)!==D.month||!D.fromNav:E.value(c)!==D.year;if(G(c,D.month,D.year),C.value.multiCalendars&&!t.multiCalendarsSolo&&re(c),t.monthPicker||t.yearPicker)if(t.multiDates)j&&yt(c);else if(t.range){if(j){let y=g.value?g.value.slice():[];y.length===2&&y[1]!==null&&(y=[]),y.length?fe(be(c),y[0])?y.unshift(be(c)):y[1]=be(c):y=[be(c)],g.value=y}}else g.value=be(c);r("update-month-year",{instance:c,month:D.month,year:D.year}),n(t.multiCalendarsSolo?c:void 0)},pt=async(c=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const D=t.monthPicker?c:!1;t.range?r("auto-apply",D||!g.value||g.value.length===1):r("auto-apply",D)}a()},qe=(c,D)=>{const j=u.set(b(),{month:V.value(D),year:E.value(D)}),y=c<0?u.addMonths(j,1):u.subMonths(j,1);Y(u.getMonth(y),u.getYear(y),c<0,t.preventMinMaxNavigation)&&(G(D,u.getMonth(y),u.getYear(y)),C.value.multiCalendars&&!t.multiCalendarsSolo&&re(D),r("update-month-year",{instance:D,month:u.getMonth(y),year:u.getYear(y)}),n())},Le=c=>{Ut(c)&&Ut(g.value)&&Pe(z.hours)&&Pe(z.minutes)?(c[0]&&g.value[0]&&(g.value[0]=we(c[0],z.hours[0],z.minutes[0],q())),c[1]&&g.value[1]&&(g.value[1]=we(c[1],z.hours[1],z.minutes[1],q(!1)))):t.multiDates&&Array.isArray(g.value)?g.value[g.value.length-1]=Te(c):!t.range&&!Ht(c)&&(g.value=Te(c)),r("time-update")},ht=(c,D=!0,j=!1)=>{const y=D?c:z.hours,_=!D&&!j?c:z.minutes,se=j?c:z.seconds;if(t.range&&Ht(g.value)&&Pe(y)&&Pe(_)&&Pe(se)&&!t.disableTimeRangeValidation){const ie=H=>we(g.value[H],y[H],_[H],se[H]),Ce=H=>u.setMilliseconds(g.value[H],0);if(ae(g.value[0],g.value[1])&&(u.isAfter(ie(0),Ce(1))||u.isBefore(ie(1),Ce(0))))return}if(U("hours",y),U("minutes",_),U("seconds",se),g.value)if(t.multiDates){const ie=o();ie&&Le(ie)}else Le(g.value);else t.timePicker&&Le(t.range?[b(),b()]:b());a()},kt=(c,D)=>{t.monthChangeOnScroll&&qe(t.monthChangeOnScroll!=="inverse"?-c.deltaY:c.deltaY,D)},wt=(c,D,j=!1)=>{t.monthChangeOnArrows&&t.vertical===j&&Xe(c,D)},Xe=(c,D)=>{qe(c==="right"?-1:1,D)};return{time:z,month:V,year:E,modelValue:g,calendars:W,monthYearSelect:pt,isDisabled:k,updateTime:ht,getWeekNum:oe,selectDate:Q,updateMonthYear:gt,handleScroll:kt,getMarker:c=>t.markers.find(D=>ae(N(c.value),N(D.date))),handleArrow:wt,handleSwipe:Xe,selectCurrentDate:()=>{t.range?g.value&&Array.isArray(g.value)&&g.value[0]?g.value=fe(b(),g.value[0])?[b(),g.value[0]]:[g.value[0],b()]:g.value=[b()]:g.value=b(),p()},presetDateRange:(c,D)=>{D||c.length&&c.length<=2&&t.range&&(g.value=c.map(j=>b(j)),p(),t.multiCalendars&&e.nextTick().then(()=>X(!0)))}}},vn=(t,r,a)=>{const n=e.ref(),{getZonedToUtc:i,getZonedDate:f,formatDate:k,getDefaultPattern:N,checkRangeEnabled:R,checkPartialRangeValue:M,isValidDate:Y,setDateMonthOrYear:C,defaults:g}=ke(r),$=e.ref(""),Z=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(Z,()=>{s()});const W=p=>{const K=p||b();return r.modelType?d(K):{hours:u.getHours(K),minutes:u.getMinutes(K),seconds:r.enableSeconds?u.getSeconds(K):0}},z=p=>r.modelType?d(p):{month:u.getMonth(p),year:u.getYear(p)},V=p=>Array.isArray(p)?R(()=>[u.setYear(b(),p[0]),p[1]?u.setYear(b(),p[1]):M()]):u.setYear(b(),+p),E=(p,K)=>(typeof p=="string"||typeof p=="number")&&r.modelType?l(p):K,v=p=>Array.isArray(p)?[E(p[0],we(null,+p[0].hours,+p[0].minutes,p[0].seconds)),E(p[1],we(null,+p[1].hours,+p[1].minutes,p[1].seconds))]:E(p,we(null,p.hours,p.minutes,p.seconds)),G=p=>Array.isArray(p)?r.multiDates?p.map(K=>E(K,C(null,+K.month,+K.year))):R(()=>[E(p[0],C(null,+p[0].month,+p[0].year)),E(p[1],p[1]?C(null,+p[1].month,+p[1].year):M())]):E(p,C(null,+p.month,+p.year)),U=p=>{if(Array.isArray(p))return p.map(K=>l(K));throw new Error(We.dateArr("multi-dates"))},X=p=>{if(Array.isArray(p))return[b(p[0]),b(p[1])];throw new Error(We.dateArr("week-picker"))},te=p=>r.modelAuto?Array.isArray(p)?[l(p[0]),l(p[1])]:r.autoApply?[l(p)]:[l(p),null]:Array.isArray(p)?R(()=>[l(p[0]),p[1]?l(p[1]):M()]):l(p),S=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(M())},O=()=>{const p=n.value;return[d(p[0]),p[1]?d(p[1]):M()]},I=()=>n.value[1]?O():d(ue(n.value[0])),m=()=>(n.value||[]).map(p=>d(p)),T=()=>(S(),r.modelAuto?I():r.multiDates?m():Array.isArray(n.value)?R(()=>O()):d(ue(n.value))),x=p=>p?r.timePicker?v(ue(p)):r.monthPicker?G(ue(p)):r.yearPicker?V(ue(p)):r.multiDates?U(ue(p)):r.weekPicker?X(ue(p)):te(ue(p)):null,ee=p=>{const K=x(p);Y(ue(K))?(n.value=ue(K),s()):(n.value=null,$.value="")},q=()=>{var K;const p=J=>{var pe;return u.format(J,(pe=g.value.textInputOptions)==null?void 0:pe.format)};return`${p(n.value[0])} ${(K=g.value.textInputOptions)==null?void 0:K.rangeSeparator} ${n.value[1]?p(n.value[1]):""}`},P=()=>{var p;return a.value&&n.value?Array.isArray(n.value)?q():u.format(n.value,(p=g.value.textInputOptions)==null?void 0:p.format):k(n.value)},o=()=>{var p;return n.value?r.multiDates?n.value.map(K=>k(K)).join("; "):r.textInput&&typeof((p=g.value.textInputOptions)==null?void 0:p.format)=="string"?P():k(n.value):""},s=()=>{!r.format||typeof r.format=="string"?$.value=o():$.value=r.format(n.value)},l=p=>{if(r.utc){const K=new Date(p);return r.utc==="preserve"?new Date(K.getTime()+K.getTimezoneOffset()*6e4):K}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?f(new Date(p)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?u.parse(p,N(),new Date):f(u.parse(p,r.modelType,new Date)):f(new Date(p))},d=p=>p?r.utc?Zt(p,r.utc==="preserve"):r.modelType?r.modelType==="timestamp"?+i(p):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?k(i(p)):k(i(p),r.modelType):i(p):"",B=p=>{t("update:model-value",p)},L=p=>Array.isArray(n.value)?r.multiDates?n.value.map(K=>p(K)):[p(n.value[0]),n.value[1]?p(n.value[1]):M()]:p(ue(n.value)),A=p=>B(ue(L(p)));return{inputValue:$,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:ee,formatInputValue:s,emitModelValue:()=>(s(),r.monthPicker?A(z):r.timePicker?A(W):r.yearPicker?A(u.getYear):r.weekPicker?B(n.value):B(T()))}},On=(t,r)=>{const{validateMonthYearInRange:a,validateMaxDate:n,validateMinDate:i,defaults:f}=ke(t),k=(C,g)=>{let $=C;return f.value.filters.months.includes(u.getMonth($))?($=g?u.addMonths(C,1):u.subMonths(C,1),k($,g)):$},N=(C,g)=>{let $=C;return f.value.filters.years.includes(u.getYear($))?($=g?u.addYears(C,1):u.subYears(C,1),N($,g)):$},R=C=>{const g=u.set(new Date,{month:t.month,year:t.year});let $=C?u.addMonths(g,1):u.subMonths(g,1),Z=u.getMonth($),W=u.getYear($);f.value.filters.months.includes(Z)&&($=k($,C),Z=u.getMonth($),W=u.getYear($)),f.value.filters.years.includes(W)&&($=N($,C),W=u.getYear($)),a(Z,W,C,t.preventMinMaxNavigation)&&M(Z,W)},M=(C,g)=>{r("update-month-year",{month:C,year:g})},Y=e.computed(()=>C=>{if(!t.preventMinMaxNavigation||C&&!t.maxDate||!C&&!t.minDate)return!1;const g=u.set(new Date,{month:t.month,year:t.year}),$=C?u.addMonths(g,1):u.subMonths(g,1),Z=[u.getMonth($),u.getYear($)];return C?!n(...Z):!i(...Z)});return{handleMonthYearChange:R,isDisabled:Y,updateMonthYear:M}};var Ge=(t=>(t.center="center",t.left="left",t.right="right",t))(Ge||{});const Yn=(t,r,a,n)=>{const i=e.ref({top:"0",left:"0",transform:"none"}),f=e.ref(!1),k=e.toRef(n,"teleportCenter");e.watch(k,()=>{W()});const N=S=>{if(n.teleport){const O=S.getBoundingClientRect();return{left:O.left+window.scrollX,top:O.top+window.scrollY}}return{top:0,left:0}},R=(S,O)=>{i.value.left=`${S+O}px`,i.value.transform="translateX(-100%)"},M=S=>{i.value.left=`${S}px`,i.value.transform="translateX(0)"},Y=(S,O,I=!1)=>{n.position===Ge.left&&M(S),n.position===Ge.right&&R(S,O),n.position===Ge.center&&(i.value.left=`${S+O/2}px`,i.value.transform=I?"translate(-50%, -50%)":"translateX(-50%)")},C=S=>{const{width:O,height:I}=S.getBoundingClientRect(),{top:m,left:T}=n.altPosition?n.altPosition(S):N(S);return{top:+m,left:+T,width:O,height:I}},g=()=>{const S=ce(r);if(S){const{top:O,left:I,width:m,height:T}=C(S);i.value.top=`${O+T/2}px`,i.value.transform="translateY(-50%)",Y(I,m,!0)}},$=()=>{i.value.left="50%",i.value.top="50%",i.value.transform="translate(-50%, -50%)",i.value.position="fixed"},Z=()=>{const S=ce(r),{top:O,left:I,transform:m}=n.altPosition(S);i.value={top:`${O}px`,left:`${I}px`,transform:m||""}},W=(S=!0)=>{if(!n.inline)return k.value?$():n.altPosition!==null?Z():(S&&a("recalculate-position"),U())},z=({inputEl:S,menuEl:O,left:I,width:m})=>{window.screen.width>768&&Y(I,m),v(S,O)},V=(S,O)=>{const{top:I,left:m,height:T,width:x}=C(S);i.value.top=`${T+I+ +n.offset}px`,z({inputEl:S,menuEl:O,left:m,width:x}),f.value=!1},E=(S,O)=>{const{top:I,left:m,width:T}=C(S),{height:x}=O.getBoundingClientRect();i.value.top=`${I-x-+n.offset}px`,z({inputEl:S,menuEl:O,left:m,width:T}),f.value=!0},v=(S,O)=>{if(n.autoPosition){const{left:I,width:m}=C(S),{left:T,right:x}=O.getBoundingClientRect();return T<=0||T<=I?M(I):x>=document.documentElement.clientWidth?R(I,m):Y(I,m)}},G=(S,O)=>{const{height:I}=O.getBoundingClientRect(),{top:m,height:T}=S.getBoundingClientRect(),ee=window.innerHeight-m-T,q=m;return I<=ee?V(S,O):I>ee&&I<=q?E(S,O):ee>=q?V(S,O):E(S,O)},U=()=>{const S=ce(r),O=ce(t);if(S&&O)return n.autoPosition?G(S,O):V(S,O)},X=function(S){if(S){const O=S.scrollHeight>S.clientHeight,m=window.getComputedStyle(S).overflowY.indexOf("hidden")!==-1;return O&&!m}return!0},te=function(S){return!S||S===document.body||S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:X(S)?S:te(S.parentNode)};return{openOnTop:f,menuPosition:i,setMenuPosition:W,setInitialPosition:g,getScrollableParent:te}},Ee=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],In=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Ln={all:()=>Ee,monthYear:()=>Ee.filter(t=>t.use.includes("month-year")),input:()=>In,timePicker:()=>Ee.filter(t=>t.use.includes("time")),action:()=>Ee.filter(t=>t.use.includes("action")),calendar:()=>Ee.filter(t=>t.use.includes("calendar")),menu:()=>Ee.filter(t=>t.use.includes("menu"))},Ae=(t,r,a)=>{const n=[];return Ln[r]().forEach(i=>{t[i.name]&&n.push(i.name)}),a&&a.length&&a.forEach(i=>{i.slot&&n.push(i.slot)}),n},Ze=t=>({transitionName:e.computed(()=>a=>t&&typeof t!="boolean"?a?t.open:t.close:""),showTransition:!!t}),Be={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},zn=["aria-label","aria-disabled","aria-readonly"],xn={key:1,class:"dp__input_wrap"},Kn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Un={key:2,class:"dp__input_icon"},Hn={key:4,class:"dp__clear_icon"},Wn=e.defineComponent({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Be},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(t,{expose:r,emit:a}){const n=t,{getDefaultPattern:i,isValidDate:f,defaults:k,getDefaultStartTime:N,assignDefaultTime:R}=ke(n),M=e.ref(),Y=e.ref(null),C=e.ref(!1),g=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:C.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),$=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),M.value=null)},Z=m=>{var x;const T=N();return Gt(m,((x=k.value.textInputOptions)==null?void 0:x.format)||i(),T||R({}),n.inputValue)},W=m=>{const{rangeSeparator:T}=k.value.textInputOptions,[x,ee]=m.split(`${T}`);if(x){const q=Z(x.trim()),P=ee?Z(ee.trim()):null,o=q&&P?[q,P]:[q];M.value=q?o:null}},z=m=>{if(n.range)W(m);else if(n.multiDates){const T=m.split(";");M.value=T.map(x=>Z(x.trim())).filter(x=>x)}else M.value=Z(m)},V=m=>{var x;const{value:T}=m.target;T!==""?((x=k.value.textInputOptions)!=null&&x.openMenu&&!n.isMenuOpen&&a("open"),z(T),a("set-input-date",M.value)):$(),a("update:input-value",T)},E=()=>{var m,T;(m=k.value.textInputOptions)!=null&&m.enterSubmit&&f(M.value)&&n.inputValue!==""?(a("set-input-date",M.value,!0),M.value=null):(T=k.value.textInputOptions)!=null&&T.enterSubmit&&n.inputValue===""&&(M.value=null,a("clear"))},v=()=>{var m,T;(m=k.value.textInputOptions)!=null&&m.tabSubmit&&f(M.value)&&n.inputValue!==""?(a("set-input-date",M.value,!0),M.value=null):(T=k.value.textInputOptions)!=null&&T.tabSubmit&&n.inputValue===""&&(M.value=null,a("clear"))},G=()=>{C.value=!0,a("focus")},U=m=>{var T;m.preventDefault(),m.stopImmediatePropagation(),m.stopPropagation(),n.textInput&&((T=k.value.textInputOptions)!=null&&T.openMenu)&&!n.inlineWithInput?n.isMenuOpen?k.value.textInputOptions.enterSubmit&&a("select-date"):a("open"):n.textInput||a("toggle")},X=()=>{C.value=!1,n.isMenuOpen||a("blur"),n.autoApply&&n.textInput&&M.value&&(a("set-input-date",M.value),a("select-date"),M.value=null)},te=()=>{a("clear")},S=m=>{if(!n.textInput){if(m.code==="Tab")return;m.preventDefault()}};return r({focusInput:()=>{Y.value&&Y.value.focus({preventScroll:!0})},setParsedDate:m=>{M.value=m}}),(m,T)=>{var x;return e.openBlock(),e.createElementBlock("div",{onClick:U,"aria-label":(x=e.unref(k).ariaLabels)==null?void 0:x.input,role:"textbox","aria-multiline":"false","aria-disabled":m.disabled,"aria-readonly":m.readonly},[m.$slots.trigger&&!m.$slots["dp-input"]&&!m.inline?e.renderSlot(m.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!m.$slots.trigger&&(!m.inline||m.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",xn,[m.$slots["dp-input"]&&!m.$slots.trigger&&!m.inline?e.renderSlot(m.$slots,"dp-input",{key:0,value:t.inputValue,onInput:V,onEnter:E,onTab:v,onClear:te}):e.createCommentVNode("",!0),m.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:Y,id:m.uid?`dp-input-${m.uid}`:void 0,name:m.name,class:e.normalizeClass(e.unref(g)),inputmode:m.textInput?"text":"none",placeholder:m.placeholder,disabled:m.disabled,readonly:m.readonly,required:m.required,value:t.inputValue,autocomplete:m.autocomplete,onInput:V,onKeydown:[e.withKeys(U,["enter"]),e.withKeys(v,["tab"]),S],onBlur:X,onFocus:G,onKeypress:S},null,42,Kn)),m.$slots["input-icon"]&&!m.hideInputIcon?(e.openBlock(),e.createElementBlock("span",Un,[e.renderSlot(m.$slots,"input-icon")])):e.createCommentVNode("",!0),!m.$slots["input-icon"]&&!m.hideInputIcon&&!m.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(ze),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),m.$slots["clear-icon"]&&t.inputValue&&m.clearable&&!m.disabled&&!m.readonly?(e.openBlock(),e.createElementBlock("span",Hn,[e.renderSlot(m.$slots,"clear-icon",{clear:te})])):e.createCommentVNode("",!0),m.clearable&&!m.$slots["clear-icon"]&&t.inputValue&&!m.disabled&&!m.readonly?(e.openBlock(),e.createBlock(e.unref(jt),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:e.withModifiers(te,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,zn)}}}),jn={class:"dp__selection_preview"},Gn={class:"dp__action_buttons"},Zn=["onKeydown"],qn=e.defineComponent({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["close-picker","select-date","invalid-select"],setup(t,{emit:r}){const a=t,{formatDate:n,isValidTime:i,defaults:f}=ke(a),{buildMatrix:k}=$e(),N=e.ref(null),R=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&k([ce(N),ce(R)],"actionRow")});const M=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),Y=e.computed(()=>!g.value||!$.value||!M.value),C=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:Y.value})),g=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:i(a.internalModelValue)),$=e.computed(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter(G=>!V(G)).length:V(a.internalModelValue):!0),Z=()=>{const v=f.value.previewFormat;return a.timePicker||a.monthPicker,v(ue(a.internalModelValue))},W=()=>{const v=a.internalModelValue;return f.value.multiCalendars>0?`${n(v[0])} - ${n(v[1])}`:[n(v[0]),n(v[1])]},z=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof f.value.previewFormat=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?W():a.multiDates?a.internalModelValue.map(v=>`${n(v)}`):a.modelAuto?`${n(a.internalModelValue[0])}`:`${n(a.internalModelValue[0])} -`:n(a.internalModelValue):Z()),V=v=>{if(!a.monthPicker)return!0;let G=!0;const U=b(ve(v));if(a.minDate&&a.maxDate){const X=b(ve(a.minDate)),te=b(ve(a.maxDate));return me(U,X)&&fe(U,te)||ae(U,X)||ae(U,te)}if(a.minDate){const X=b(ve(a.minDate));G=me(U,X)||ae(U,X)}if(a.maxDate){const X=b(ve(a.maxDate));G=fe(U,X)||ae(U,X)}return G},E=()=>{g.value&&$.value&&M.value?r("select-date"):r("invalid-select")};return(v,G)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[v.$slots["action-row"]?e.renderSlot(v.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:t.internalModelValue,disabled:e.unref(Y),selectDate:()=>v.$emit("select-date"),closePicker:()=>v.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",jn,[v.$slots["action-preview"]?e.renderSlot(v.$slots,"action-preview",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),v.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(z))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(z)),1)],64)),Array.isArray(e.unref(z))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(z),(U,X)=>(e.openBlock(),e.createElementBlock("div",{key:X},e.toDisplayString(U),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",Gn,[v.$slots["action-select"]?e.renderSlot(v.$slots,"action-select",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),v.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[v.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:N,tabindex:"0",onClick:G[0]||(G[0]=U=>v.$emit("close-picker")),onKeydown:[G[1]||(G[1]=e.withKeys(U=>v.$emit("close-picker"),["enter"])),G[2]||(G[2]=e.withKeys(U=>v.$emit("close-picker"),["space"]))]},e.toDisplayString(v.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(C)),tabindex:"0",onKeydown:[e.withKeys(E,["enter"]),e.withKeys(E,["space"])],onClick:E,"data-test":"select-button",ref_key:"selectButtonRef",ref:R},e.toDisplayString(v.selectText),43,Zn)],64))])],64))],4))}}),Xn=["aria-label"],Jn={class:"dp__calendar_header",role:"row"},Qn={key:0,class:"dp__calendar_header_item",role:"gridcell"},Fn=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),er=["aria-label"],tr={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},nr={class:"dp__cell_inner"},rr=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave"],ar=e.defineComponent({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Be},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:i}=$e(),{setDateMonthOrYear:f,defaults:k}=ke(n),N=e.ref(null),R=e.ref({bottom:"",left:"",transform:""}),M=e.ref([]),Y=e.ref(null),C=e.ref(!0),g=e.ref(""),$=e.ref({startX:0,endX:0,startY:0,endY:0}),Z=e.ref([]),W=e.ref({left:"50%"}),z=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):Cn(n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:M}),n.noSwipe||Y.value&&(Y.value.addEventListener("touchstart",m,{passive:!1}),Y.value.addEventListener("touchend",T,{passive:!1}),Y.value.addEventListener("touchmove",x,{passive:!1})),n.monthChangeOnScroll&&Y.value&&Y.value.addEventListener("wheel",P,{passive:!1})});const V=o=>o?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",E=(o,s)=>{if(n.transitions){const l=De(f(b(),n.month,n.year));g.value=me(De(f(b(),o,s)),l)?k.value.transitions[V(!0)]:k.value.transitions[V(!1)],C.value=!1,e.nextTick(()=>{C.value=!0})}},v=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),G=e.computed(()=>o=>{const s=Nn(o);return{dp__marker_dot:s.type==="dot",dp__marker_line:s.type==="line"}}),U=e.computed(()=>o=>ae(o,N.value)),X=e.computed(()=>({dp__calendar:!0,dp__calendar_next:k.value.multiCalendars>0&&n.instance!==0})),te=e.computed(()=>o=>n.hideOffsetDates?o.current:!0),S=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),O=async(o,s,l)=>{var d,B;if(a("set-hover-date",o),(B=(d=o.marker)==null?void 0:d.tooltip)!=null&&B.length){const L=ce(M.value[s][l]);if(L){const{width:A,height:h}=L.getBoundingClientRect();N.value=o.value;let w={left:`${A/2}px`},p=-50;if(await e.nextTick(),Z.value[0]){const{left:K,width:J}=Z.value[0].getBoundingClientRect();K<0&&(w={left:"0"},p=0,W.value.left=`${A/2}px`),window.innerWidth<K+J&&(w={right:"0"},p=0,W.value.left=`${J-A/2}px`)}R.value={bottom:`${h}px`,...w,transform:`translateX(${p}%)`},a("tooltip-open",o.marker)}}},I=o=>{N.value&&(N.value=null,R.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",o.marker))},m=o=>{$.value.startX=o.changedTouches[0].screenX,$.value.startY=o.changedTouches[0].screenY},T=o=>{$.value.endX=o.changedTouches[0].screenX,$.value.endY=o.changedTouches[0].screenY,ee()},x=o=>{n.vertical&&!n.inline&&o.preventDefault()},ee=()=>{const o=n.vertical?"Y":"X";Math.abs($.value[`start${o}`]-$.value[`end${o}`])>10&&a("handle-swipe",$.value[`start${o}`]>$.value[`end${o}`]?"right":"left")},q=(o,s,l)=>{o&&(Array.isArray(M.value[s])?M.value[s][l]=o:M.value[s]=[o]),n.arrowNavigation&&i(M.value,"calendar")},P=o=>{n.monthChangeOnScroll&&(o.preventDefault(),a("handle-scroll",o))};return r({triggerTransition:E}),(o,s)=>{var l;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(X))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(S))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:Y,class:e.normalizeClass(e.unref(v)),role:"grid","aria-label":(l=e.unref(k).ariaLabels)==null?void 0:l.calendarWrap},[e.createElementVNode("div",Jn,[o.weekNumbers?(e.openBlock(),e.createElementBlock("div",Qn,e.toDisplayString(o.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(z),(d,B)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:B,"data-test":"calendar-header"},[o.$slots["calendar-header"]?e.renderSlot(o.$slots,"calendar-header",{key:0,day:d,index:B}):e.createCommentVNode("",!0),o.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(d),1)],64))]))),128))]),Fn,e.createVNode(e.Transition,{name:g.value,css:!!o.transitions},{default:e.withCtx(()=>{var d;return[C.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(d=e.unref(k).ariaLabels)==null?void 0:d.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(B,L)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:L},[o.weekNumbers?(e.openBlock(),e.createElementBlock("div",tr,[e.createElementVNode("div",nr,e.toDisplayString(t.getWeekNum(B.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.days,(A,h)=>{var w,p,K;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:J=>q(J,L,h),key:h+L,"aria-selected":A.classData.dp__active_date||A.classData.dp__range_start||A.classData.dp__range_start,"aria-disabled":A.classData.dp__cell_disabled,"aria-label":(p=(w=e.unref(k).ariaLabels)==null?void 0:w.day)==null?void 0:p.call(w,A),tabindex:"0","data-test":A.value,onClick:e.withModifiers(J=>o.$emit("select-date",A),["stop","prevent"]),onKeydown:[e.withKeys(J=>o.$emit("select-date",A),["enter"]),e.withKeys(J=>o.$emit("handle-space",A),["space"])],onMouseenter:J=>O(A,L,h),onMouseleave:J=>I(A)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",A.classData])},[o.$slots.day&&e.unref(te)(A)?e.renderSlot(o.$slots,"day",{key:0,day:+A.text,date:A.value}):e.createCommentVNode("",!0),o.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(A.text),1)],64)),A.marker&&e.unref(te)(A)?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(G)(A.marker)),style:e.normalizeStyle(A.marker.color?{backgroundColor:A.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(U)(A.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:Z,style:e.normalizeStyle(R.value)},[(K=A.marker)!=null&&K.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:s[0]||(s[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(A.marker.tooltip,(J,pe)=>(e.openBlock(),e.createElementBlock("div",{key:pe,class:"dp__tooltip_text"},[o.$slots["marker-tooltip"]?e.renderSlot(o.$slots,"marker-tooltip",{key:0,tooltip:J,day:A.value}):e.createCommentVNode("",!0),o.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(J.color?{backgroundColor:J.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(J.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(W.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,rr)}),128))]))),128))],8,er)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,Xn))],4)],2)}}}),lr=["aria-label","aria-disabled"],dt=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,i)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:i[0]||(i[0]=f=>n.$emit("activate")),onKeydown:[i[1]||(i[1]=e.withKeys(f=>n.$emit("activate"),["enter"])),i[2]||(i[2]=e.withKeys(f=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:a},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,lr))}}),or=["onKeydown"],sr={class:"dp__selection_grid_header"},ir=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],cr=["aria-label","onKeydown"],Ye=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:i,buildMultiLevelMatrix:f,setMonthPicker:k}=$e(),{hideNavigationButtons:N}=ke(n),R=e.ref(!1),M=e.ref(null),Y=e.ref(null),C=e.ref([]),g=e.ref(),$=e.ref(null),Z=e.ref(0),W=e.ref(null);e.onBeforeUpdate(()=>{M.value=null}),e.onMounted(()=>{e.nextTick().then(()=>O()),V(),z(!0)}),e.onUnmounted(()=>z(!1));const z=P=>{var o;n.arrowNavigation&&((o=n.headerRefs)!=null&&o.length?k(P):i(P))},V=()=>{const P=ce(Y);P&&(n.textInput||P.focus({preventScroll:!0}),R.value=P.clientHeight<P.scrollHeight)},E=e.computed(()=>({dp__overlay:!0})),v=e.computed(()=>({dp__overlay_col:!0})),G=P=>n.skipActive?!1:P.value===n.modelValue,U=e.computed(()=>n.items.map(P=>P.filter(o=>o).map(o=>{var d,B,L;const s=n.disabledValues.some(A=>A===o.value)||S(o.value),l=(d=n.multiModelValue)!=null&&d.length?(B=n.multiModelValue)==null?void 0:B.some(A=>ae(A,u.setYear(n.monthPicker?u.setMonth(new Date,o.value):new Date,n.monthPicker?n.year:o.value))):G(o);return{...o,className:{dp__overlay_cell_active:l,dp__overlay_cell:!l,dp__overlay_cell_disabled:s,dp__overlay_cell_active_disabled:s&&l,dp__overlay_cell_pad:!0,dp__cell_in_between:(L=n.multiModelValue)!=null&&L.length&&n.skipActive?m(o.value):!1}}}))),X=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:R.value,dp__button_bottom:n.autoApply})),te=e.computed(()=>{var P,o;return{dp__overlay_container:!0,dp__container_flex:((P=n.items)==null?void 0:P.length)<=6,dp__container_block:((o=n.items)==null?void 0:o.length)>6}}),S=P=>{const o=n.maxValue||n.maxValue===0,s=n.minValue||n.minValue===0;return!o&&!s?!1:o&&s?+P>+n.maxValue||+P<+n.minValue:o?+P>+n.maxValue:s?+P<+n.minValue:!1},O=()=>{const P=ce(M),o=ce(Y),s=ce($),l=ce(W),d=s?s.getBoundingClientRect().height:0;o&&(Z.value=o.getBoundingClientRect().height-d),P&&l&&(l.scrollTop=P.offsetTop-l.offsetTop-(Z.value/2-P.getBoundingClientRect().height)-d)},I=P=>{!n.disabledValues.some(o=>o===P)&&!S(P)&&(a("update:model-value",P),a("selected"))},m=P=>{const o=n.monthPicker?n.year:P;return Tt(n.multiModelValue,u.setYear(n.monthPicker?u.setMonth(new Date,g.value||0):new Date,n.monthPicker?o:g.value||o),u.setYear(n.monthPicker?u.setMonth(new Date,P):new Date,o))},T=()=>{a("toggle"),a("reset-flow")},x=()=>{n.escClose&&T()},ee=(P,o,s,l)=>{P&&(o.value===+n.modelValue&&!n.disabledValues.includes(o.value)&&(M.value=P),n.arrowNavigation&&(Array.isArray(C.value[s])?C.value[s][l]=P:C.value[s]=[P],q()))},q=()=>{var o,s;const P=(o=n.headerRefs)!=null&&o.length?[n.headerRefs].concat(C.value):C.value.concat([n.skipButtonRef?[]:[$.value]]);f(ue(P),(s=n.headerRefs)!=null&&s.length?"monthPicker":"selectionGrid")};return r({focusGrid:V}),(P,o)=>{var s;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:Y,class:e.normalizeClass(e.unref(E)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(x,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(te)),ref_key:"containerRef",ref:W,role:"grid",style:e.normalizeStyle({height:`${Z.value}px`})},[e.createElementVNode("div",sr,[e.renderSlot(P.$slots,"header")]),P.$slots.overlay?e.renderSlot(P.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(U),(l,d)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:d,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l,(B,L)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(v)),key:B.value,"aria-selected":B.value===t.modelValue&&!t.disabledValues.includes(B.value),"aria-disabled":B.className.dp__overlay_cell_disabled,ref_for:!0,ref:A=>ee(A,B,d,L),tabindex:"0","data-test":B.text,onClick:A=>I(B.value),onKeydown:[e.withKeys(A=>I(B.value),["enter"]),e.withKeys(A=>I(B.value),["space"])],onMouseover:A=>g.value=B.value},[e.createElementVNode("div",{class:e.normalizeClass(B.className)},[P.$slots.item?e.renderSlot(P.$slots,"item",{key:0,item:B}):e.createCommentVNode("",!0),P.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(B.text),1)],64))],2)],42,ir))),128))]))),128))],6),P.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":(s=t.ariaLabels)==null?void 0:s.toggleOverlay,class:e.normalizeClass(e.unref(X)),tabindex:"0",ref_key:"toggleButton",ref:$,onClick:T,onKeydown:e.withKeys(T,["enter"])},[e.renderSlot(P.$slots,"button-icon")],42,cr)),[[e.vShow,!e.unref(N)(t.type)]]):e.createCommentVNode("",!0)],42,or)}}}),ur=["aria-label"],Wt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:r}){const a=t,{transitionName:n,showTransition:i}=Ze(a.transitions),f=e.ref(null);return e.onMounted(()=>r("set-ref",f)),(k,N)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:N[0]||(N[0]=R=>k.$emit("toggle")),onKeydown:[N[1]||(N[1]=e.withKeys(R=>k.$emit("toggle"),["enter"])),N[2]||(N[2]=e.withKeys(R=>k.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:f},[e.renderSlot(k.$slots,"default")],40,ur),e.createVNode(e.Transition,{name:e.unref(n)(t.showSelectionGrid),css:e.unref(i)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":N[3]||(N[3]=R=>k.$emit("update:model-value",R)),onToggle:N[4]||(N[4]=R=>k.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[k.$slots["calendar-icon"]?e.renderSlot(k.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),k.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))]),_:2},[k.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:R})=>[e.renderSlot(k.$slots,t.slotName,{item:R})]),key:"0"}:void 0,k.$slots[t.overlaySlot]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(k.$slots,t.overlaySlot)]),key:"1"}:void 0,k.$slots[`${t.overlaySlot}-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(k.$slots,`${t.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),dr={class:"dp__month_year_row"},fr={class:"dp__month_year_wrap"},mr={class:"dp__month_picker_header"},yr=["aria-label"],gr=["aria-label"],pr=["aria-label"],hr=e.defineComponent({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaults:i}=ke(n),{transitionName:f,showTransition:k}=Ze(i.value.transitions),{buildMatrix:N}=$e(),{handleMonthYearChange:R,isDisabled:M,updateMonthYear:Y}=On(n,a),C=e.ref(!1),g=e.ref(!1),$=e.ref([null,null,null,null]),Z=e.ref(null),W=e.ref(null),z=e.ref(null);e.onMounted(()=>{a("mount")});const V=h=>({get:()=>n[h],set:w=>{const p=h==="month"?"year":"month";a("update-month-year",{[h]:w,[p]:n[p]}),a("month-year-select",h==="year"),h==="month"?l(!0):d(!0)}}),E=e.computed(V("month")),v=e.computed(V("year")),G=h=>{const w=u.getYear(b(h));return n.year===w},U=e.computed(()=>n.monthPicker?Array.isArray(n.disabledDates)?n.disabledDates.map(h=>b(h)).filter(h=>G(h)).map(h=>u.getMonth(h)):[]:[]),X=e.computed(()=>h=>{const w=h==="month";return{showSelectionGrid:(w?C:g).value,items:(w?q:P).value,disabledValues:i.value.filters[w?"months":"years"].concat(U.value),minValue:(w?I:S).value,maxValue:(w?m:O).value,headerRefs:w&&n.monthPicker?[Z.value,W.value,z.value]:[],escClose:n.escClose,transitions:i.value.transitions,ariaLabels:i.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),te=e.computed(()=>h=>({month:n.month,year:n.year,items:h==="month"?n.months:n.years,instance:n.instance,updateMonthYear:Y,toggle:h==="month"?l:d})),S=e.computed(()=>n.minDate?u.getYear(b(n.minDate)):null),O=e.computed(()=>n.maxDate?u.getYear(b(n.maxDate)):null),I=e.computed(()=>{if(n.minDate&&S.value){if(S.value>n.year)return 12;if(S.value===n.year)return u.getMonth(b(n.minDate))}return null}),m=e.computed(()=>n.maxDate&&O.value?O.value<n.year?-1:O.value===n.year?u.getMonth(b(n.maxDate)):null:null),T=e.computed(()=>(n.range||n.multiDates)&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),x=h=>{const w=[],p=K=>K;for(let K=0;K<h.length;K+=3){const J=[h[K],h[K+1],h[K+2]];w.push(p(J))}return w},ee=e.computed(()=>{const h=n.months.find(w=>w.value===n.month);return h||{text:"",value:0}}),q=e.computed(()=>x(n.months)),P=e.computed(()=>x(n.years)),o=e.computed(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),s=e.computed(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===i.value.multiCalendars-1:!0),l=(h=!1)=>{B(h),C.value=!C.value,C.value||a("overlay-closed")},d=(h=!1)=>{B(h),g.value=!g.value,g.value||a("overlay-closed")},B=h=>{h||a("reset-flow")},L=(h=!1)=>{M.value(h)||a("update-month-year",{year:h?n.year+1:n.year-1,month:n.month,fromNav:!0})},A=(h,w)=>{n.arrowNavigation&&($.value[w]=ce(h),N($.value,"monthYear"))};return r({toggleMonthPicker:l,toggleYearPicker:d,handleMonthYearChange:R}),(h,w)=>{var p,K,J,pe,Se;return e.openBlock(),e.createElementBlock("div",dr,[h.$slots["month-year"]?e.renderSlot(h.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(Y),handleMonthYearChange:e.unref(R),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!h.monthPicker&&!h.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(o)&&!h.vertical?(e.openBlock(),e.createBlock(dt,{key:0,"aria-label":(p=e.unref(i).ariaLabels)==null?void 0:p.prevMonth,disabled:e.unref(M)(!1),onActivate:w[0]||(w[0]=F=>e.unref(R)(!1)),onSetRef:w[1]||(w[1]=F=>A(F,0))},{default:e.withCtx(()=>[h.$slots["arrow-left"]?e.renderSlot(h.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",fr,[e.createVNode(Wt,e.mergeProps({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(K=e.unref(i).ariaLabels)==null?void 0:K.openMonthsOverlay,modelValue:e.unref(E),"onUpdate:modelValue":w[2]||(w[2]=F=>e.isRef(E)?E.value=F:null)},e.unref(X)("month"),{onToggle:l,onSetRef:w[3]||(w[3]=F=>A(F,1))}),e.createSlots({default:e.withCtx(()=>[h.$slots.month?e.renderSlot(h.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(ee)))):e.createCommentVNode("",!0),h.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(ee).text),1)],64))]),_:2},[h.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"calendar-icon")]),key:"0"}:void 0,h.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:e.withCtx(({item:F})=>[e.renderSlot(h.$slots,"month-overlay-value",{text:F.text,value:F.value})]),key:"1"}:void 0,h.$slots["month-overlay"]?{name:"overlay-month",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"month-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(te)("month"))))]),key:"2"}:void 0,h.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"month-overlay-header",{toggle:l})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(Wt,e.mergeProps({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(J=e.unref(i).ariaLabels)==null?void 0:J.openYearsOverlay,modelValue:e.unref(v),"onUpdate:modelValue":w[4]||(w[4]=F=>e.isRef(v)?v.value=F:null)},e.unref(X)("year"),{onToggle:d,onSetRef:w[5]||(w[5]=F=>A(F,2))}),e.createSlots({default:e.withCtx(()=>[h.$slots.year?e.renderSlot(h.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),h.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))]),_:2},[h.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"calendar-icon")]),key:"0"}:void 0,h.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:e.withCtx(({item:F})=>[e.renderSlot(h.$slots,"year-overlay-value",{text:F.text,value:F.value})]),key:"1"}:void 0,h.$slots["year-overlay"]?{name:"overlay-year",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"year-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(te)("year"))))]),key:"2"}:void 0,h.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"year-overlay-header",{toggle:d})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),e.unref(o)&&h.vertical?(e.openBlock(),e.createBlock(dt,{key:1,"aria-label":(pe=e.unref(i).ariaLabels)==null?void 0:pe.prevMonth,disabled:e.unref(M)(!1),onActivate:w[6]||(w[6]=F=>e.unref(R)(!1))},{default:e.withCtx(()=>[h.$slots["arrow-up"]?e.renderSlot(h.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(s)?(e.openBlock(),e.createBlock(dt,{key:2,ref:"rightIcon",disabled:e.unref(M)(!0),"aria-label":(Se=e.unref(i).ariaLabels)==null?void 0:Se.nextMonth,onActivate:w[7]||(w[7]=F=>e.unref(R)(!0)),onSetRef:w[8]||(w[8]=F=>A(F,3))},{default:e.withCtx(()=>[h.$slots[h.vertical?"arrow-down":"arrow-right"]?e.renderSlot(h.$slots,h.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),h.$slots[h.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(h.vertical?e.unref(St):e.unref(Ct)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),h.monthPicker?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:1},e.unref(X)("month"),{"skip-active":h.range,year:t.year,"multi-model-value":e.unref(T),"month-picker":"",modelValue:e.unref(E),"onUpdate:modelValue":w[17]||(w[17]=F=>e.isRef(E)?E.value=F:null),onToggle:l,onSelected:w[18]||(w[18]=F=>h.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>{var F,Ne,Me;return[e.createElementVNode("div",mr,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:Z,onClick:w[9]||(w[9]=he=>L(!1)),onKeydown:w[10]||(w[10]=e.withKeys(he=>L(!1),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(M)(!1)}]),role:"button","aria-label":(F=e.unref(i).ariaLabels)==null?void 0:F.prevMonth},[h.$slots["arrow-left"]?e.renderSlot(h.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))],10,yr)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:W,"aria-label":(Ne=e.unref(i).ariaLabels)==null?void 0:Ne.openYearsOverlay,tabindex:"0",onClick:w[11]||(w[11]=()=>d(!1)),onKeydown:w[12]||(w[12]=e.withKeys(()=>d(!1),["enter"]))},[h.$slots.year?e.renderSlot(h.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),h.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,gr),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:z,onClick:w[13]||(w[13]=he=>L(!0)),onKeydown:w[14]||(w[14]=e.withKeys(he=>L(!0),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(M)(!0)}]),role:"button","aria-label":(Me=e.unref(i).ariaLabels)==null?void 0:Me.nextMonth},[h.$slots["arrow-right"]?e.renderSlot(h.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],10,pr)],544)]),e.createVNode(e.Transition,{name:e.unref(f)(g.value),css:e.unref(k)},{default:e.withCtx(()=>[g.value?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:0},e.unref(X)("year"),{modelValue:e.unref(v),"onUpdate:modelValue":w[15]||(w[15]=he=>e.isRef(v)?v.value=he:null),onToggle:d,onSelected:w[16]||(w[16]=he=>h.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[h.$slots["calendar-icon"]?e.renderSlot(h.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),h.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))]),_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:he})=>[e.renderSlot(h.$slots,"year-overlay-value",{text:he.text,value:he.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]}),_:2},[h.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:F})=>[e.renderSlot(h.$slots,"month-overlay-value",{text:F.text,value:F.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),h.yearPicker?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:2},e.unref(X)("year"),{modelValue:e.unref(v),"onUpdate:modelValue":w[19]||(w[19]=F=>e.isRef(v)?v.value=F:null),"multi-model-value":e.unref(T),"skip-active":h.range,"skip-button-ref":"","year-picker":"",onToggle:d,onSelected:w[20]||(w[20]=F=>h.$emit("overlay-closed"))}),e.createSlots({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:F})=>[e.renderSlot(h.$slots,"year-overlay-value",{text:F.text,value:F.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)],64))])}}}),kr={key:0,class:"dp__time_input"},wr=["aria-label","onKeydown","onClick"],Dr=["aria-label","data-test","onKeydown","onClick"],br=["aria-label","onKeydown","onClick"],Mr={key:0},Cr=["aria-label","onKeydown"],$r=e.defineComponent({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Be},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:i,setTimePickerBackRef:f}=$e(),{defaults:k}=ke(n),{transitionName:N,showTransition:R}=Ze(k.value.transitions),M=e.reactive({hours:!1,minutes:!1,seconds:!1}),Y=e.ref("AM"),C=e.ref(null),g=e.ref([]);e.onMounted(()=>{a("mounted")});const $=e.computed(()=>o=>!!(n.maxTime&&n.maxTime[o]&&n.maxTime[o]<n[o]+ +n[`${o}Increment`])),Z=e.computed(()=>o=>!!(n.minTime&&n.minTime[o]&&n.minTime[o]>n[o]-+n[`${o}Increment`])),W=(o,s)=>u.add(u.set(b(),o),s),z=(o,s)=>u.sub(u.set(b(),o),s),V=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),E=e.computed(()=>{const o=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?o.concat([{type:"",separator:!0},{type:"seconds"}]):o}),v=e.computed(()=>E.value.filter(o=>!o.separator)),G=e.computed(()=>o=>{if(o==="hours"){const s=T(n.hours);return{text:s<10?`0${s}`:`${s}`,value:s}}return{text:n[o]<10?`0${n[o]}`:`${n[o]}`,value:n[o]}}),U=o=>{const s=n.is24?24:12,l=o==="hours"?s:60,d=+n[`${o}GridIncrement`],B=o==="hours"&&!n.is24?d:0,L=[];for(let A=B;A<l;A+=d)L.push({value:A,text:A<10?`0${A}`:`${A}`});return o==="hours"&&!n.is24&&L.push({value:0,text:"12"}),Mn(L)},X=(o,s)=>{const l=n.minTime&&n.minTime[s],d=n.maxTime&&n.maxTime[s];return l&&d?o<l||o>d:l?o<l:d?o>d:!1},te=e.computed(()=>o=>U(o).flat().filter(l=>l).map(l=>l.value).filter(l=>X(l,o))),S=o=>n[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],O=o=>{S(o)||(M[o]=!M[o],M[o]||a("overlay-closed"))},I=o=>o==="hours"?u.getHours:o==="minutes"?u.getMinutes:u.getSeconds,m=(o,s=!0)=>{const l=s?W:z;(s?$.value(o):Z.value(o))||a(`update:${o}`,I(o)(l({[o]:+n[o]},{[o]:+n[`${o}Increment`]})))},T=o=>n.is24?o:(o>=12?Y.value="PM":Y.value="AM",Sn(o)),x=()=>{Y.value==="PM"?(Y.value="AM",a("update:hours",n.hours-12)):(Y.value="PM",a("update:hours",n.hours+12))},ee=o=>{M[o]=!0},q=(o,s,l)=>{if(o&&n.arrowNavigation){Array.isArray(g.value[s])?g.value[s][l]=o:g.value[s]=[o];const d=g.value.reduce((B,L)=>L.map((A,h)=>[...B[h]||[],L[h]]),[]);f(n.closeTimePickerBtn),C.value&&(d[1]=d[1].concat(C.value)),i(d,n.order)}},P=(o,s)=>o==="hours"&&!n.is24?a(`update:${o}`,Y.value==="PM"?s+12:s):a(`update:${o}`,s);return r({openChildCmp:ee}),(o,s)=>{var l;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",kr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(E),(d,B)=>{var L,A,h;return e.openBlock(),e.createElementBlock("div",{key:B,class:e.normalizeClass(e.unref(V))},[d.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref($)(d.type)}),role:"button","data-test":"time-inc-btn","aria-label":(L=e.unref(k).ariaLabels)==null?void 0:L.incrementValue(d.type),tabindex:"0",onKeydown:[e.withKeys(w=>m(d.type),["enter"]),e.withKeys(w=>m(d.type),["space"])],onClick:w=>m(d.type),ref_for:!0,ref:w=>q(w,B,0)},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))],42,wr),e.createElementVNode("div",{role:"button","aria-label":(A=e.unref(k).ariaLabels)==null?void 0:A.openTpOverlay(d.type),class:e.normalizeClass(S(d.type)?"":"dp__time_display"),tabindex:"0","data-test":`${d.type}-toggle-overlay-btn`,onKeydown:[e.withKeys(w=>O(d.type),["enter"]),e.withKeys(w=>O(d.type),["space"])],onClick:w=>O(d.type),ref_for:!0,ref:w=>q(w,B,1)},[o.$slots[d.type]?e.renderSlot(o.$slots,d.type,{key:0,text:e.unref(G)(d.type).text,value:e.unref(G)(d.type).value}):e.createCommentVNode("",!0),o.$slots[d.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(G)(d.type).text),1)],64))],42,Dr),e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(Z)(d.type)}),role:"button","data-test":"time-dec-btn","aria-label":(h=e.unref(k).ariaLabels)==null?void 0:h.decrementValue(d.type),tabindex:"0",onKeydown:[e.withKeys(w=>m(d.type,!1),["enter"]),e.withKeys(w=>m(d.type,!1),["space"])],onClick:w=>m(d.type,!1),ref_for:!0,ref:w=>q(w,B,2)},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))],42,br)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Mr,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:x,value:Y.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:C,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(l=e.unref(k).ariaLabels)==null?void 0:l.amPmButton,tabindex:"0",onClick:x,onKeydown:[e.withKeys(e.withModifiers(x,["prevent"]),["enter"]),e.withKeys(e.withModifiers(x,["prevent"]),["space"])]},e.toDisplayString(Y.value),41,Cr))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(d,B)=>(e.openBlock(),e.createBlock(e.Transition,{key:B,name:e.unref(N)(M[d.type]),css:e.unref(R)},{default:e.withCtx(()=>[M[d.type]?(e.openBlock(),e.createBlock(Ye,{key:0,items:U(d.type),"disabled-values":e.unref(k).filters.times[d.type].concat(e.unref(te)(d.type)),"esc-close":o.escClose,"aria-labels":e.unref(k).ariaLabels,"hide-navigation":o.hideNavigation,"onUpdate:modelValue":L=>P(d.type,L),onSelected:L=>O(d.type),onToggle:L=>O(d.type),onResetFlow:s[0]||(s[0]=L=>o.$emit("reset-flow")),type:d.type},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))]),_:2},[o.$slots[`${d.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:L})=>[e.renderSlot(o.$slots,`${d.type}-overlay-value`,{text:L.text,value:L.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Br=["aria-label"],Sr={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},Nr={key:1,class:"dp__overlay_row"},Tr=["aria-label"],Pr=e.defineComponent({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:i,setTimePicker:f}=$e(),k=e.useSlots(),{hideNavigationButtons:N,defaults:R}=ke(n),{transitionName:M,showTransition:Y}=Ze(R.value.transitions),C=e.ref(null),g=e.ref(null),$=e.ref([]),Z=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?i([ce(C.value)],"time"):f(!0,n.timePicker)});const W=e.computed(()=>n.range&&n.modelAuto?zt(n.internalModelValue):!0),z=e.ref(!1),V=m=>({hours:Array.isArray(n.hours)?n.hours[m]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[m]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[m]:n.seconds}),E=e.computed(()=>{const m=[];if(n.range)for(let T=0;T<2;T++)m.push(V(T));else m.push(V(0));return m}),v=(m,T=!1,x="")=>{T||a("reset-flow"),z.value=m,m&&a("overlay-opened"),n.arrowNavigation&&(f(m),m||a("overlay-closed")),e.nextTick(()=>{x!==""&&$.value[0]&&$.value[0].openChildCmp(x)})},G=e.computed(()=>({dp__button:!0,dp__button_bottom:n.autoApply})),U=Ae(k,"timePicker"),X=(m,T,x)=>n.range?T===0?[m,E.value[1][x]]:[E.value[0][x],m]:m,te=m=>{a("update:hours",m)},S=m=>{a("update:minutes",m)},O=m=>{a("update:seconds",m)},I=()=>{Z.value&&n.arrowNavigation&&Z.value.focus({preventScroll:!0})};return r({toggleTimePicker:v}),(m,T)=>{var x;return e.openBlock(),e.createElementBlock("div",null,[m.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(G)),role:"button","aria-label":(x=e.unref(R).ariaLabels)==null?void 0:x.openTimePicker,tabindex:"0","data-test":"open-time-picker-btn",ref_key:"openTimePickerBtn",ref:C,onKeydown:[T[0]||(T[0]=e.withKeys(ee=>v(!0),["enter"])),T[1]||(T[1]=e.withKeys(ee=>v(!0),["space"]))],onClick:T[2]||(T[2]=ee=>v(!0))},[m.$slots["clock-icon"]?e.renderSlot(m.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),m.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],42,Br)),[[e.vShow,!e.unref(N)("time")]]),e.createVNode(e.Transition,{name:e.unref(M)(z.value),css:e.unref(Y)},{default:e.withCtx(()=>{var ee;return[z.value||m.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:Z,tabindex:"0"},[e.createElementVNode("div",Sr,[m.$slots["time-picker-overlay"]?e.renderSlot(m.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:te,setMinutes:S,setSeconds:O}):e.createCommentVNode("",!0),m.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Nr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(E),(q,P)=>e.withDirectives((e.openBlock(),e.createBlock($r,e.mergeProps({key:P},{...m.$props,order:P,hours:q.hours,minutes:q.minutes,seconds:q.seconds,closeTimePickerBtn:g.value,disabled:P===0?m.fixedStart:m.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:$,"onUpdate:hours":o=>te(X(o,P,"hours")),"onUpdate:minutes":o=>S(X(o,P,"minutes")),"onUpdate:seconds":o=>O(X(o,P,"seconds")),onMounted:I,onOverlayClosed:I}),e.createSlots({_:2},[e.renderList(e.unref(U),(o,s)=>({name:o,fn:e.withCtx(l=>[e.renderSlot(m.$slots,o,e.normalizeProps(e.guardReactiveProps(l)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,P===0?!0:e.unref(W)]])),128))])),m.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:g,class:e.normalizeClass(e.unref(G)),role:"button","aria-label":(ee=e.unref(R).ariaLabels)==null?void 0:ee.closeTimePicker,tabindex:"0",onKeydown:[T[3]||(T[3]=e.withKeys(q=>v(!1),["enter"])),T[4]||(T[4]=e.withKeys(q=>v(!1),["space"]))],onClick:T[5]||(T[5]=q=>v(!1))},[m.$slots["calendar-icon"]?e.renderSlot(m.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),m.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))],42,Tr)),[[e.vShow,!e.unref(N)("time")]])])],512)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Ar=(t,r)=>{const{isDisabled:a,matchDate:n,getWeekFromDate:i}=ke(r),f=e.ref(null),k=e.ref(b()),N=l=>{!l.current&&r.hideOffsetDates||(f.value=l.value)},R=()=>{f.value=null},M=l=>Array.isArray(t.value)&&r.range&&t.value[0]&&f.value?l?me(f.value,t.value[0]):fe(f.value,t.value[0]):!0,Y=(l,d)=>{const B=()=>t.value?d?t.value[0]||null:t.value[1]:null,L=t.value&&Array.isArray(t.value)?B():null;return ae(b(l.value),L)},C=l=>{const d=Array.isArray(t.value)?t.value[0]:null;return l?!fe(f.value||null,d):!0},g=(l,d=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)?r.hideOffsetDates&&!l.current?!1:ae(b(l.value),t.value[d?0:1]):r.range?Y(l,d)&&C(d)||ae(l.value,Array.isArray(t.value)?t.value[0]:null)&&M(d):!1,$=(l,d,B)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:B?me(t.value[0],d.value):fe(t.value[0],d.value):!1,Z=l=>!t.value||r.hideOffsetDates&&!l.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?ae(l.value,t.value[0]?t.value[0]:k.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(d=>ae(d,l.value)):ae(l.value,t.value?t.value:k.value),W=l=>{if(r.autoRange||r.weekPicker){if(f.value){if(r.hideOffsetDates&&!l.current)return!1;const d=u.addDays(f.value,+r.autoRange),B=i(b(f.value));return r.weekPicker?ae(B[1],b(l.value)):ae(d,b(l.value))}return!1}return!1},z=l=>{if(r.autoRange||r.weekPicker){if(f.value){const d=u.addDays(f.value,+r.autoRange);if(r.hideOffsetDates&&!l.current)return!1;const B=i(b(f.value));return r.weekPicker?me(l.value,B[0])&&fe(l.value,B[1]):me(l.value,f.value)&&fe(l.value,d)}return!1}return!1},V=l=>{if(r.autoRange||r.weekPicker){if(f.value){if(r.hideOffsetDates&&!l.current)return!1;const d=i(b(f.value));return r.weekPicker?ae(d[0],l.value):ae(f.value,l.value)}return!1}return!1},E=l=>Tt(t.value,f.value,l.value),v=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,G=()=>r.modelAuto?zt(r.internalModelValue):!0,U=l=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const d=r.range?!g(l)&&!g(l,!1):!0;return!a(l.value)&&!Z(l)&&!(!l.current&&r.hideOffsetDates)&&d},X=l=>r.range?r.modelAuto?v()&&Z(l):!1:Z(l),te=l=>r.highlight?n(l.value,r.highlight):!1,S=l=>a(l.value)&&r.highlightDisabledDays===!1,O=l=>r.highlightWeekDays&&r.highlightWeekDays.includes(l.value.getDay()),I=l=>(r.range||r.weekPicker)&&(!(r.multiCalendars>0)||l.current)&&G()&&!(!l.current&&r.hideOffsetDates)&&!Z(l)?E(l):!1,m=l=>{const{isRangeStart:d,isRangeEnd:B}=ee(l),L=r.range?d||B:!1;return{dp__cell_offset:!l.current,dp__pointer:!r.disabled&&!(!l.current&&r.hideOffsetDates)&&!a(l.value),dp__cell_disabled:a(l.value),dp__cell_highlight:!S(l)&&(te(l)||O(l))&&!X(l)&&!L,dp__cell_highlight_active:!S(l)&&(te(l)||O(l))&&X(l),dp__today:!r.noToday&&ae(l.value,k.value)&&l.current}},T=l=>({dp__active_date:X(l),dp__date_hover:U(l)}),x=l=>({...q(l),...P(l),dp__range_between_week:I(l)&&r.weekPicker}),ee=l=>{const d=r.multiCalendars>0?l.current&&g(l)&&G():g(l)&&G(),B=r.multiCalendars>0?l.current&&g(l,!1)&&G():g(l,!1)&&G();return{isRangeStart:d,isRangeEnd:B}},q=l=>{const{isRangeStart:d,isRangeEnd:B}=ee(l);return{dp__range_start:d,dp__range_end:B,dp__range_between:I(l)&&!r.weekPicker,dp__date_hover_start:$(U(l),l,!0),dp__date_hover_end:$(U(l),l,!1)}},P=l=>({...q(l),dp__cell_auto_range:z(l),dp__cell_auto_range_start:V(l),dp__cell_auto_range_end:W(l)}),o=l=>r.range?r.autoRange?P(l):r.modelAuto?{...T(l),...q(l)}:q(l):r.weekPicker?x(l):T(l);return{setHoverDate:N,clearHoverDate:R,getDayClassData:l=>({...m(l),...o(l),[r.dayClass?r.dayClass(l.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName})}},Vr=["id","onKeydown"],Er={key:0,class:"dp__sidebar_left"},_r={key:1,class:"dp__preset_ranges"},Rr=["onClick"],vr={key:2,class:"dp__sidebar_right"},Or={key:3,class:"dp__now_wrap"},Yr=e.defineComponent({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open"],setup(t,{expose:r,emit:a}){const n=t,{setMenuFocused:i,setShiftKey:f,control:k}=Pt(),{getCalendarDays:N,defaults:R}=ke(n),M=e.useSlots(),Y=e.ref(null),C=e.reactive({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),g=e.ref([]),$=e.ref([]),Z=e.ref(null),W=e.ref(null),z=e.ref(0),V=e.ref(!1),E=e.ref(0);e.onMounted(()=>{var _;V.value=!0,!((_=n.presetRanges)!=null&&_.length)&&!M["left-sidebar"]&&!M["right-sidebar"]&&Q();const y=ce(W);if(y&&!n.textInput&&!n.inline&&(i(!0),S()),y){const se=ie=>{["action-row","time-picker","month-year"].some(Ce=>Object.keys(M).includes(Ce))||ie.preventDefault(),ie.stopImmediatePropagation(),ie.stopPropagation()};y.addEventListener("pointerdown",se),y.addEventListener("mousedown",se)}window.addEventListener("resize",Q)}),e.onUnmounted(()=>{window.removeEventListener("resize",Q)});const{arrowRight:v,arrowLeft:G,arrowDown:U,arrowUp:X}=$e(),te=y=>{y||y===0?$.value[y].triggerTransition(x.value(y),ee.value(y)):$.value.forEach((_,se)=>_.triggerTransition(x.value(se),ee.value(se)))},S=()=>{const y=ce(W);y&&y.focus({preventScroll:!0})},O=()=>{var y;(y=n.flow)!=null&&y.length&&E.value!==-1&&(E.value+=1,a("flow-step",E.value),Dt())},I=()=>{E.value=-1},{calendars:m,modelValue:T,month:x,year:ee,time:q,updateTime:P,updateMonthYear:o,selectDate:s,getWeekNum:l,monthYearSelect:d,handleScroll:B,handleArrow:L,handleSwipe:A,getMarker:h,selectCurrentDate:w,presetDateRange:p}=Rn(n,a,O,te,E),{setHoverDate:K,clearHoverDate:J,getDayClassData:pe}=Ar(T,n);e.watch(m,()=>{n.openOnTop&&setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const Se=Ae(M,"calendar"),F=Ae(M,"action"),Ne=Ae(M,"timePicker"),Me=Ae(M,"monthYear"),he=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Ve=e.computed(()=>$n(n.yearRange,n.reverseYears)),Ie=e.computed(()=>Bn(n.locale,n.monthNameFormat)),Q=()=>{const y=ce(Y);y&&(z.value=y.getBoundingClientRect().width)},oe=e.computed(()=>y=>N(x.value(y),ee.value(y))),re=e.computed(()=>R.value.multiCalendars>0&&n.range?[...Array(R.value.multiCalendars).keys()]:[0]),be=e.computed(()=>y=>y===1),Te=e.computed(()=>n.monthPicker||n.timePicker||n.yearPicker),yt=e.computed(()=>({dp__flex_display:R.value.multiCalendars>0})),gt=e.computed(()=>({dp__instance_calendar:R.value.multiCalendars>0})),pt=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),qe=e.computed(()=>y=>ht(oe,y)),Le=e.computed(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),ht=(y,_)=>y.value(_).map(se=>({...se,days:se.days.map(ie=>(ie.marker=h(ie),ie.classData=pe(ie),ie))})),kt=y=>{y.stopPropagation(),y.stopImmediatePropagation()},wt=()=>{n.escClose&&a("close-picker")},Xe=(y,_=!1)=>{s(y,_),n.spaceConfirm&&a("select-date")},Je=y=>{var _;(_=n.flow)!=null&&_.length&&(C[y]=!0,Object.keys(C).filter(se=>!C[se]).length||Dt())},_e=(y,_,se,ie,...Ce)=>{if(n.flow[E.value]===y){const H=ie?_.value[0]:_.value;H&&H[se](...Ce)}},Dt=()=>{_e("month",g,"toggleMonthPicker",!0,!0),_e("year",g,"toggleYearPicker",!0,!0),_e("calendar",Z,"toggleTimePicker",!1,!1,!0),_e("time",Z,"toggleTimePicker",!1,!0,!0);const y=n.flow[E.value];(y==="hours"||y==="minutes"||y==="seconds")&&_e(y,Z,"toggleTimePicker",!1,!0,!0,y)},c=y=>{if(n.arrowNavigation){if(y==="up")return X();if(y==="down")return U();if(y==="left")return G();if(y==="right")return v()}else y==="left"||y==="up"?L("left",0,y==="up"):L("right",0,y==="down")},D=y=>{f(y.shiftKey),!n.disableMonthYearSelect&&y.code==="Tab"&&y.target.classList.contains("dp__menu")&&k.value.shiftKeyInMenu&&(y.preventDefault(),y.stopImmediatePropagation(),a("close-picker"))},j=y=>{g.value[0]&&g.value[0].handleMonthYearChange(y)};return r({updateMonthYear:o}),(y,_)=>{var se;return e.openBlock(),e.createBlock(e.Transition,{appear:"",name:(se=e.unref(R).transitions)==null?void 0:se.menuAppear,mode:"out-in",css:!!y.transitions},{default:e.withCtx(()=>{var ie,Ce;return[e.createElementVNode("div",{id:y.uid?`dp-menu-${y.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:W,role:"dialog",class:e.normalizeClass(e.unref(Le)),onMouseleave:_[15]||(_[15]=(...H)=>e.unref(J)&&e.unref(J)(...H)),onClick:kt,onKeydown:[e.withKeys(wt,["esc"]),_[16]||(_[16]=e.withKeys(e.withModifiers(H=>c("left"),["prevent"]),["left"])),_[17]||(_[17]=e.withKeys(e.withModifiers(H=>c("up"),["prevent"]),["up"])),_[18]||(_[18]=e.withKeys(e.withModifiers(H=>c("down"),["prevent"]),["down"])),_[19]||(_[19]=e.withKeys(e.withModifiers(H=>c("right"),["prevent"]),["right"])),D]},[(y.disabled||y.readonly)&&y.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(pt))},null,2)):e.createCommentVNode("",!0),!y.inline&&!y.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(he))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:((ie=y.presetRanges)==null?void 0:ie.length)||!!y.$slots["left-sidebar"]||!!y.$slots["right-sidebar"]})},[y.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Er,[e.renderSlot(y.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:j})))])):e.createCommentVNode("",!0),(Ce=y.presetRanges)!=null&&Ce.length?(e.openBlock(),e.createElementBlock("div",_r,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.presetRanges,(H,Re)=>(e.openBlock(),e.createElementBlock("div",{key:Re,style:e.normalizeStyle(H.style||{}),class:"dp__preset_range",onClick:ne=>e.unref(p)(H.range,!!H.slot)},[H.slot?e.renderSlot(y.$slots,H.slot,{key:0,presetDateRange:e.unref(p),label:H.label,range:H.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(H.label),1)],64))],12,Rr))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:Y,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(yt))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(re),(H,Re)=>(e.openBlock(),e.createElementBlock("div",{key:H,class:e.normalizeClass(e.unref(gt))},[!y.disableMonthYearSelect&&!y.timePicker?(e.openBlock(),e.createBlock(hr,e.mergeProps({key:0,ref_for:!0,ref:ne=>{ne&&(g.value[Re]=ne)},months:e.unref(Ie),years:e.unref(Ve),month:e.unref(x)(H),year:e.unref(ee)(H),instance:H,"internal-model-value":t.internalModelValue},y.$props,{onMount:_[0]||(_[0]=ne=>Je("monthYearInput")),onResetFlow:I,onUpdateMonthYear:ne=>e.unref(o)(H,ne),onMonthYearSelect:e.unref(d),onOverlayClosed:S}),e.createSlots({_:2},[e.renderList(e.unref(Me),(ne,Ur)=>({name:ne,fn:e.withCtx(bt=>[e.renderSlot(y.$slots,ne,e.normalizeProps(e.guardReactiveProps(bt)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(ar,e.mergeProps({ref_for:!0,ref:ne=>{ne&&($.value[Re]=ne)},"specific-mode":e.unref(Te),"get-week-num":e.unref(l),instance:H,"mapped-dates":e.unref(qe)(H),month:e.unref(x)(H),year:e.unref(ee)(H)},y.$props,{"flow-step":E.value,"onUpdate:flowStep":_[1]||(_[1]=ne=>E.value=ne),onSelectDate:ne=>e.unref(s)(ne,!e.unref(be)(H)),onHandleSpace:ne=>Xe(ne,!e.unref(be)(H)),onSetHoverDate:_[2]||(_[2]=ne=>e.unref(K)(ne)),onHandleScroll:ne=>e.unref(B)(ne,H),onHandleSwipe:ne=>e.unref(A)(ne,H),onMount:_[3]||(_[3]=ne=>Je("calendar")),onResetFlow:I,onTooltipOpen:_[4]||(_[4]=ne=>y.$emit("tooltip-open",ne)),onTooltipClose:_[5]||(_[5]=ne=>y.$emit("tooltip-close",ne))}),e.createSlots({_:2},[e.renderList(e.unref(Se),(ne,Ur)=>({name:ne,fn:e.withCtx(bt=>[e.renderSlot(y.$slots,ne,e.normalizeProps(e.guardReactiveProps({...bt})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[y.$slots["time-picker"]?e.renderSlot(y.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(q),updateTime:e.unref(P)}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[y.enableTimePicker&&!y.monthPicker&&!y.weekPicker?(e.openBlock(),e.createBlock(Pr,e.mergeProps({key:0,ref_key:"timePickerRef",ref:Z,hours:e.unref(q).hours,minutes:e.unref(q).minutes,seconds:e.unref(q).seconds,"internal-model-value":t.internalModelValue},y.$props,{onMount:_[6]||(_[6]=H=>Je("timePicker")),"onUpdate:hours":_[7]||(_[7]=H=>e.unref(P)(H)),"onUpdate:minutes":_[8]||(_[8]=H=>e.unref(P)(H,!1)),"onUpdate:seconds":_[9]||(_[9]=H=>e.unref(P)(H,!1,!0)),onResetFlow:I,onOverlayClosed:S,onOverlayOpened:_[10]||(_[10]=H=>y.$emit("time-picker-open",H))}),e.createSlots({_:2},[e.renderList(e.unref(Ne),(H,Re)=>({name:H,fn:e.withCtx(ne=>[e.renderSlot(y.$slots,H,e.normalizeProps(e.guardReactiveProps(ne)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):e.createCommentVNode("",!0)],64))])],512),y.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",vr,[e.renderSlot(y.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:j})))])):e.createCommentVNode("",!0),y.showNowButton?(e.openBlock(),e.createElementBlock("div",Or,[y.$slots["now-button"]?e.renderSlot(y.$slots,"now-button",{key:0,selectCurrentDate:e.unref(w)}):e.createCommentVNode("",!0),y.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:_[11]||(_[11]=(...H)=>e.unref(w)&&e.unref(w)(...H))},e.toDisplayString(y.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!y.autoApply||y.keepActionRow?(e.openBlock(),e.createBlock(qn,e.mergeProps({key:2,"menu-mount":V.value,"calendar-width":z.value,"internal-model-value":t.internalModelValue},y.$props,{onClosePicker:_[12]||(_[12]=H=>y.$emit("close-picker")),onSelectDate:_[13]||(_[13]=H=>y.$emit("select-date")),onInvalidSelect:_[14]||(_[14]=H=>y.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(F),(H,Re)=>({name:H,fn:e.withCtx(ne=>[e.renderSlot(y.$slots,H,e.normalizeProps(e.guardReactiveProps({...ne})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):e.createCommentVNode("",!0)],42,Vr)]}),_:3},8,["name","css"])}}}),Ir=typeof window<"u"?window:void 0,ft=()=>{},Lr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,zr=(t,r,a,n)=>{if(!t)return ft;let i=ft;const f=e.watch(()=>e.unref(t),N=>{i(),N&&(N.addEventListener(r,a,n),i=()=>{N.removeEventListener(r,a,n),i=ft})},{immediate:!0,flush:"post"}),k=()=>{f(),i()};return Lr(k),k},xr=(t,r,a,n={})=>{const{window:i=Ir,event:f="pointerdown"}=n;return i?zr(i,f,N=>{const R=ce(t),M=ce(r);!R||!M||R===N.target||N.composedPath().includes(R)||N.composedPath().includes(M)||a(N)},{passive:!0}):void 0},Kr=e.defineComponent({__name:"VueDatePicker",props:{...Be},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open"],setup(t,{expose:r,emit:a}){const n=t,i=e.useSlots(),f=e.ref(!1),k=e.toRef(n,"modelValue"),N=e.toRef(n,"timezone"),R=e.ref(null),M=e.ref(null),Y=e.ref(!1),C=e.ref(null),{setMenuFocused:g,setShiftKey:$}=Pt(),{clearArrowNav:Z}=$e(),{validateDate:W,isValidTime:z,defaults:V}=ke(n);e.onMounted(()=>{m(n.modelValue),n.inline||(S(C.value).addEventListener("scroll",s),window.addEventListener("resize",l)),n.inline&&(f.value=!0)}),e.onUnmounted(()=>{if(!n.inline){const Q=S(C.value);Q&&Q.removeEventListener("scroll",s),window.removeEventListener("resize",l)}});const E=Ae(i,"all",n.presetRanges),v=Ae(i,"input");e.watch([k,N],()=>{m(k.value)},{deep:!0});const{openOnTop:G,menuPosition:U,setMenuPosition:X,setInitialPosition:te,getScrollableParent:S}=Yn(R,M,a,n),{inputValue:O,internalModelValue:I,parseExternalModelValue:m,emitModelValue:T,formatInputValue:x,checkBeforeEmit:ee}=vn(a,n,Y),q=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),P=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),o=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:n.inline}:{class:"dp__outer_menu_wrap"}),s=()=>{f.value&&(n.closeOnScroll?J():X())},l=()=>{f.value&&X()},d=()=>{!n.disabled&&!n.readonly&&(te(),f.value=!0,e.nextTick().then(()=>{X(),f.value&&a("open")}),f.value||K(),m(n.modelValue))},B=()=>{O.value="",K(),a("update:model-value",null),a("cleared"),J()},L=()=>{const Q=I.value;return!Q||!Array.isArray(Q)&&W(Q)?!0:Array.isArray(Q)?Q.length===2&&W(Q[0])&&W(Q[1])?!0:W(Q[0]):!1},A=()=>{ee()&&L()?(T(),J()):a("invalid-select",I.value)},h=Q=>{w(),T(),n.closeOnAutoApply&&!Q&&J()},w=()=>{M.value&&n.textInput&&M.value.setParsedDate(I.value)},p=(Q=!1)=>{n.autoApply&&z(I.value)&&L()&&(n.range&&Array.isArray(I.value)?(n.partialRange||I.value.length===2)&&h(Q):h(Q))},K=()=>{n.textInput||(I.value=null)},J=()=>{n.inline||(f.value&&(f.value=!1,g(!1),$(!1),Z(),a("closed"),te(),O.value&&m(k.value)),K())},pe=(Q,oe)=>{if(!Q){I.value=null;return}I.value=Q,oe&&(A(),a("text-submit"))},Se=()=>{n.autoApply&&z(I.value)&&T(),w()},F=()=>f.value?J():d(),Ne=Q=>{I.value=Q},Me=e.computed(()=>n.textInput&&V.value.textInputOptions.format),he=()=>{Me.value&&(Y.value=!0,x()),a("focus")},Ve=()=>{Me.value&&(Y.value=!1,x()),a("blur")},Ie=Q=>{R.value&&R.value.updateMonthYear(0,{month:xt(Q.month),year:xt(Q.year)})};return xr(R,M,n.onClickOutside?()=>n.onClickOutside(L):J),r({closeMenu:J,selectDate:A,clearValue:B,openMenu:d,onScroll:s,formatInputValue:x,updateInternalModelValue:Ne,setMonthYear:Ie}),(Q,oe)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(q)),ref_key:"pickerWrapperRef",ref:C},[e.createVNode(Wn,e.mergeProps({ref_key:"inputRef",ref:M,"is-menu-open":f.value,"input-value":e.unref(O),"onUpdate:inputValue":oe[0]||(oe[0]=re=>e.isRef(O)?O.value=re:null)},Q.$props,{onClear:B,onOpen:d,onSetInputDate:pe,onSetEmptyDate:e.unref(T),onSelectDate:A,onToggle:F,onClose:J,onFocus:he,onBlur:Ve}),e.createSlots({_:2},[e.renderList(e.unref(v),(re,be)=>({name:re,fn:e.withCtx(Te=>[e.renderSlot(Q.$slots,re,e.normalizeProps(e.guardReactiveProps(Te)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),f.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(Q.teleport?e.Teleport:"div"),e.normalizeProps(e.mergeProps({key:0},e.unref(o))),{default:e.withCtx(()=>[f.value?(e.openBlock(),e.createBlock(Yr,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:R,class:e.unref(P),style:e.unref(U),"open-on-top":e.unref(G)},Q.$props,{"internal-model-value":e.unref(I),"onUpdate:internalModelValue":oe[1]||(oe[1]=re=>e.isRef(I)?I.value=re:null),onClosePicker:J,onSelectDate:A,onAutoApply:p,onTimeUpdate:Se,onFlowStep:oe[2]||(oe[2]=re=>Q.$emit("flow-step",re)),onUpdateMonthYear:oe[3]||(oe[3]=re=>Q.$emit("update-month-year",re)),onInvalidSelect:oe[4]||(oe[4]=re=>Q.$emit("invalid-select",e.unref(I))),onInvalidFixedRange:oe[5]||(oe[5]=re=>Q.$emit("invalid-fixed-range",re)),onRecalculatePosition:e.unref(X),onTooltipOpen:oe[6]||(oe[6]=re=>Q.$emit("tooltip-open",re)),onTooltipClose:oe[7]||(oe[7]=re=>Q.$emit("tooltip-close",re)),onTimePickerOpen:oe[8]||(oe[8]=re=>Q.$emit("time-picker-open",re))}),e.createSlots({_:2},[e.renderList(e.unref(E),(re,be)=>({name:re,fn:e.withCtx(Te=>[e.renderSlot(Q.$slots,re,e.normalizeProps(e.guardReactiveProps({...Te})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):e.createCommentVNode("",!0)]),_:3},16)):e.createCommentVNode("",!0)],2))}}),mt=(()=>{const t=Kr;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(mt[t]=r)}),mt});
